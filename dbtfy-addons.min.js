(function() {
  /* start-dbtfy-addons */

  /* start-dbtfy-addtocart-animation */ function themeAddtocartAnimation(){function AddtocartAnimation(){const t=theme.settings.dbtfyATCAnimationType,n=1e3*theme.settings.dbtfyATCAnimationInterval,a=theme.variables.animationSlow,o=`slow ${t}`;$(".product-single__add-to-cart .btn--add-to-cart:not([disabled])").addClass("btn--addtocart_animation"),setInterval(function(){const t=$(".btn--addtocart_animation");t.addClass(o),setTimeout(function(){t.removeClass(o)},a)},n)}AddtocartAnimation();} /* end-dbtfy-addtocart-animation */

  /* start-dbtfy-age-check */ function themeAgeCheck(){} function themeAgeCheckDestroy() {} /* end-dbtfy-age-check */

  /* start-dbtfy-agree-to-terms */ function themeAgreeToTerms(){} function themeAgreeToTermsDestroy() {} /* end-dbtfy-agree-to-terms */

  /* start-dbtfy-automatic-geolocation */ function themeAutomaticGeolocation(){} /* end-dbtfy-automatic-geolocation */

  /* start-dbtfy-back-in-stock */ function themeBackInStock(){} function themeBackInStockDestroy() {} /* end-dbtfy-back-in-stock */

  /* start-dbtfy-cart-discount */ function themeCartDiscount(){function CartDiscount(){var t=$(".dbtfy-cart_discount"),n=$(".input-cart_discount");t.length&&(n.on("keydown",function(t){13===t.keyCode&&(t.preventDefault(),""!==$(this).val()&&$(t.target).closest("form").find("button[name='checkout']").trigger("click"))}),$(document).on("click",".cd-apply",function(t){if(t.preventDefault(),""!==$(t.target).closest(".CartDiscount").find(".input-cart_discount").val()){var n=$(t.target).closest("form").find("button[name='checkout']");n.length||(n=$(t.target).closest("#CartDrawer").find("button[name='checkout']")),n.trigger("click")}}))}CartDiscount(),$("body").on("ajaxCart.afterCartLoad",function(t,n){CartDiscount()});} function themeCartDiscountDestroy() {function destroyCartDiscount(){const t=document.querySelectorAll(".dbtfy-cart_discount");t.length&&t.forEach(t=>{t.remove()})}destroyCartDiscount(),$("body").on("ajaxCart.afterCartLoad",function(t,o){destroyCartDiscount()});} /* end-dbtfy-cart-discount */

  /* start-dbtfy-cart-favicon */ function themeCartFavicon(){function CartFavicon(){const t=theme.settings.faviconImage,e=theme.settings.cartFaviconImage;function n(n){const a=n?n.item_count:theme.variables.cartCount,o=document.getElementById("favicon");e&&(a>0?o.setAttribute("href",e):o.setAttribute("href",t)),!e&&t&&function(e,n){if(e.classList.contains("notification-enabled")&&n>0)return;n>0?function(e,n){const a=document.createElement("img");a.crossOrigin="anonymous",a.src=t,a.onload=function(){const t=document.createElement("canvas"),n=t.getContext("2d"),o=a.width-a.width/4.5-5,c=a.width/4.5;t.width=a.width,t.height=a.height,n.clearRect(0,0,a.width,a.height),n.drawImage(a,0,0),n.fillStyle="#eb361e",n.strokeStyle="#ffffff",n.lineWidth=5,n.beginPath(),n.arc(o,25,c,0,2*Math.PI,!1),n.closePath(),n.fill(),n.stroke();const r=n.canvas.toDataURL();i(e,r,"image/x-icon","add")}}(e):i(e,t,"image/png","remove")}(o,a)}function i(t,e,n,i){const a=document.querySelector("head"),o=document.createElement("link");o.sizes="192x192",o.type="image/x-icon",o.rel="shortcut icon",o.id="favicon",o.href=e,t.remove(),a.appendChild(o),o.classList[i]("notification-enabled")}t&&(n(),$("body").on("ajaxCart.afterCartLoad",function(t,e){n(e)}))}CartFavicon();} /* end-dbtfy-cart-favicon */

  /* start-dbtfy-cart-goal */ function themeCartGoal(){async function CartGoal(a){const b=document.querySelector(".dbtfy-cart_goal_list");if(!b)return;const c=b.querySelectorAll(".dbtfy-cart_goal");if(!c.length)return;const d=await theme.getUserLocationData();let e,f;d?(e=d.country_name,f=d.continent_code):(e="Austria",f="EU");const g={AF:"Africa",AN:"Antarctica",AS:"Asia",EU:"Europe",NA:"North america",OC:"Oceania",SA:"South america"}[f],h=Array.from(c).find(a=>{const b=a.dataset.goalRegion,c=theme.capitalizeFirstLetter(b),d=theme.capitalizeFirstLetter(e),f=theme.capitalizeFirstLetter(g);if(c===f||c===d||"All"===c)return a});if(c.forEach(a=>{a!==h&&a.remove()}),!h)return;const i=h.dataset.beforeAmountText,j=h.dataset.afterAmountText,k=h.dataset.goalReachedText,l=h.querySelector(".cg-wrapper"),m=h.querySelector(".cg-free-shipping-text"),n=h.querySelector(".cg-progress-bar"),o=parseInt(h.dataset.cartTotalCount);let p=parseFloat(h.dataset.goalAmount),q=parseFloat(h.dataset.cartTotalAmount);const r=document.querySelector("#currency-list-header"),s=theme.strings.shopCurrency;let t="";r&&(t=r.value,t!==s&&(p=parseFloat(h.querySelector("span.cart_goal_amount_new").innerText))),a&&(q=a.total_price/100);const u=parseFloat(p-q);let v=0,w=`<span>${k}</span>`;if(0<u){const a=theme.strings.moneyFormat;v=100*(p-u)/p,w=`<span>${i} <span class="cg-goal-amount text-money text-secondary"><span class="money">${theme.Currency.formatMoney(100*u,a)}</span></span> ${j}</span>`}else v=100;if(m.innerHTML=w,n.style.width=`${v}%`,l.hidden=!1,a?!a.item_count&&(l.hidden=!0):0===o&&(l.hidden=!0),document.body.classList.contains("template-cart")){const a=h.cloneNode(!0),b=document.querySelector(".page-title-wrapper"),c=b.nextElementSibling;c&&c.classList.contains("dbtfy-cart_goal")&&c.remove(),b.insertAdjacentElement("afterend",a)}theme.settings.cartType;let x;"drawer"===theme.settings.cartType?x="#CartDrawer":"modal"===theme.settings.cartType&&(x="#CartModal");const y=document.querySelector(x),z=y&&y.querySelector(".cart-products");if(y&&z){const a=h.cloneNode(!0),b=z.previousSibling;b&&b.classList.contains("dbtfy-cart_goal")&&b.remove(),a.classList.add("drawer__inner-section"),z.insertAdjacentElement("beforebegin",a)}document.dispatchEvent(new CustomEvent("CartGoalLoaded"))}CartGoal(),$("body").on("ajaxCart.afterCartLoad",function(a,b){CartGoal(b)});} function themeCartGoalDestroy() {function destroyCartGoal(){const o=document.querySelectorAll(".dbtfy-cart_goal");o.length&&o.forEach(o=>{o.remove()})}destroyCartGoal(),$("body").on("ajaxCart.afterCartLoad",function(o,t){destroyCartGoal()});} /* end-dbtfy-cart-goal */

  /* start-dbtfy-cart-reminder */ function themeCartReminder(){function CartReminder(){function a(){const a=theme.cart.items.length;if(0===a)return;const c=theme.getRandomNumberInRange(0,a-1),d=theme.cart.items&&theme.cart.items[c],e=d.featured_image;b(e)}function b(a){const b=document.querySelectorAll(".notification-toast-image");b.forEach(b=>{b.innerHTML=a.url?`<img src="${a.url}" alt="${a.alt}">`:theme.variables.productPlaceholderSvg})}const c=document.querySelectorAll(".dbtfy-cart_reminder");c.length&&(theme.isCartLoaded?(a(),theme.NotificationToast.init(".dbtfy-cart_reminder_wrapper",a,!0)):document.addEventListener("dbtfy:cartLoaded",function(){a(),theme.NotificationToast.init(".dbtfy-cart_reminder_wrapper",a,!0)}))}document.addEventListener("shopify:section:load",()=>{sessionStorage.removeItem("cartReminderClosed")}),CartReminder();} function themeCartReminderDestroy() {function destroyCartReminder(){const e=document.querySelectorAll(".dbtfy-cart_reminder");e.forEach(r=>{r&&e.remove()})}destroyCartReminder();} /* end-dbtfy-cart-reminder */
  
  /* start-dbtfy-cart-savings */ function themeCartSavings(){function CartSavings(){function a(a){function c(){let c="";c=a?"drawer"===a?"#CartDrawer":"modal"===a?"#CartModal":".dbtfy-cart-page-container":"#CartDrawer, .dbtfy-cart-page-container, #CartModal";const d=document.querySelectorAll(c),e=theme.strings.moneyFormat;d.forEach(a=>{function c(a,b,c,d){const e=a.querySelector(".cart__subtotal-compare-at");e&&(a.innerHTML=""),a.innerHTML=b?`<span class="cart__subtotal-discounted text-sale"><span class="money">${d}</span></span> <span class="cart__subtotal-discounted text-muted text-strike"><span class="money">${c}</span></span>`:`<span class="money">${c}</span>`}const d=a.querySelector(".cart_savings-wrapper");if(!d)return;const f=a.querySelector("[data-cart-total]"),g=a.querySelector("[data-cart-total-value]"),h=d.parentElement.querySelector(".cart-discount"),i=h?+h.dataset.discountValue:0,j=d.querySelector(".cart_savings-wrapper-text"),k=+d.dataset.totalWithComparePrice,l=+d.dataset.totalSavingsByComparePrice,m=theme.Currency.formatMoney(k,e),n=!!f.querySelectorAll(".cart__subtotal-discounted").length,o=theme.cart.item_count;let p=l;if(0<p||0<i){let a=k-p;const l=d.closest(".main-content")?"cartCurrentValues":"drawerCartCurrentValues",q=b[l];if(q.qt!=o&&q.compareAtPrice===k&&n)return;if(q.qt=o,h&&(p+=i,a=k-p,q.price===a&&q.compareAtPrice===k&&n))return;if(q.price===a&&q.compareAtPrice===k&&n)return;q.price=a,q.compareAtPrice=k;const r=theme.Currency.formatMoney(a,e);j.innerHTML=`<span class="money">${theme.Currency.formatMoney(p,e)}</span>`,c(f,!0,m,r),g&&(g.innerHTML=`<span class="money">${r}</span>`,d.removeAttribute("hidden"))}else c(f,!1,m),g&&(g.innerHTML=`<span class="money">${m}</span>`,d.setAttribute("hidden","hidden"))})}theme.isCartLoaded?c():document.addEventListener("dbtfy:cartLoaded",c)}const b={cartCurrentValues:{price:0,qt:0,compareAtPrice:0,cartSavingsValue:0,cartTotalWithDiscount:0},drawerCartCurrentValues:{price:0,qt:0,compareAtPrice:0,cartSavingsValue:0,cartTotalWithDiscount:0}};a(),$("body").on("ajaxCart.afterCartLoad",function(b,c,d){a(d)}),document.addEventListener("dbtfy:cartDiscountSaved",()=>{a()})}CartSavings();} function themeCartSavingsDestroy() {function destroyCartSavings(){const a=document.querySelectorAll(".cart_savings-wrapper");a.length&&a.forEach(a=>{a.remove()})}destroyCartSavings(),$("body").on("ajaxCart.afterCartLoad",function(a,r){destroyCartSavings()});} /* end-dbtfy-cart-savings */

  /* start-dbtfy-cart-upsell */ function themeCartUpsell(){function CartUpsell(){const dbtfy=document.querySelector(".cu-wrapper");function SpecificCartUpsell(e){document.querySelectorAll(".specific-upsell").forEach(e=>{e.remove()});const t=dbtfy.querySelectorAll(".cu-specific-upsell");if(!t.length||!e)return;const r=Array.from(t).filter(t=>{const r=+t.dataset.offerId;return!e.items.some(e=>e.product_id===r)});r.length&&e.items.forEach((e,t)=>{const a=e.product_id,n=r.filter(e=>{const t=+e.dataset.triggerId;return a===t});if(!n.length)return;const c=[];n.filter(e=>{const t=+e.dataset.offerId;return!c.includes(t)&&(c.push(t),!0)}).forEach(e=>{const r=document.querySelector("#CartContainer .drawer__inner");if(r){const a=e.cloneNode(!0),n=a.querySelector("form");n&&(n.removeAttribute("data-has-submit-event"),n.removeAttribute("data-has-submit-listener"));const c=r.querySelector(`.ajaxcart_row[data-line="${t+1}"]`);if(c){c.querySelector(".specific-upsell")||c.insertAdjacentHTML("beforeend",`\n                    <div class="card-group spacer-top specific-upsell" data-line="${t+1}"></div>\n                  `);const e=r.querySelector(`.specific-upsell[data-line="${t+1}"]`);e&&e.insertAdjacentElement("beforeend",a)}}const a=document.querySelector("#cartForm .dbtfy_main_cart_container");if(a){const r=e.cloneNode(!0),n=r.querySelector("form");n&&(n.removeAttribute("data-has-submit-event"),n.removeAttribute("data-has-submit-listener"));const c=a.querySelector(`.cart__row[data-line="${t+1}"]`);if(c){c.querySelector(".specific-upsell")||c.insertAdjacentHTML("beforeend",`\n                    <div class="card-group spacer-top specific-upsell" data-line="${t+1}"></div>\n                  `);const e=a.querySelector(`.specific-upsell[data-line="${t+1}"]`);e&&e.insertAdjacentElement("beforeend",r)}}theme.ajaxCart.init({enableQtySelectors:!1})})})}function GeneralCartUpsell(e){document.querySelectorAll(".ajaxcart__general-upsell, .general-upsell").forEach(e=>{e.remove()});const t=dbtfy.querySelectorAll(".cu-general-upsell");if(!t.length||!e)return;const r=Array.from(t).filter(t=>{const r=+t.dataset.productId;return!e.items.some(e=>e.product_id===r)});r.length&&r.forEach(e=>{const t=document.querySelector("#CartContainer .drawer__inner");if(t){const r=e.cloneNode(!0),a=r.querySelector("form");a&&(a.removeAttribute("data-has-submit-event"),a.removeAttribute("data-has-submit-listener")),t.querySelector(".ajaxcart__general-upsell")||t.insertAdjacentHTML("beforeend",'\n                  <div class="ajaxcart__general-upsell drawer__inner-section card-group"></div>\n                ');const n=t.querySelector(".ajaxcart__general-upsell");n&&n.insertAdjacentElement("beforeend",r)}const r=document.querySelector("#cartForm .dbtfy_main_cart_container");if(r){const t=e.cloneNode(!0),a=t.querySelector("form");a&&(a.removeAttribute("data-has-submit-event"),a.removeAttribute("data-has-submit-listener"));const n=+t.dataset.productId;r.insertAdjacentHTML("beforeend",`\n                <div class="card-group spacer-top general-upsell" data-product-id="${n}"></div>\n              `);const c=r.querySelector(`.general-upsell[data-product-id="${n}"]`);c&&c.insertAdjacentElement("beforeend",t)}theme.ajaxCart.init({enableQtySelectors:!1})})}function addListeners(){const selects=document.querySelectorAll(".cu-select");function changeVariantImage(e){const t=e.closest(".cu-product-wrapper"),r=e.selectedOptions[0].dataset.variantImg;if(r&&t){const e=t.querySelector(".cu-variant-img");e&&e.setAttribute("src",r)}}function changeVariantUrl(e){const t=e.selectedOptions[0].dataset.variantUrl,r=e.closest(".cu-upsell"),a=e.closest(".cu-product-wrapper");if(r){const e=r.querySelector(".cu-product-name a");e&&e.setAttribute("href",t)}if(a){const e=a.querySelector(".image-link");e&&e.setAttribute("href",t)}}selects.forEach(e=>{e.hasAttribute("data-has-change-event")?e.setAttribute("data-has-change-event","true"):e.addEventListener("change",()=>{changeVariantImage(e),changeVariantUrl(e)})});const cartUpsellButtons=document.querySelectorAll(".cu-addtocart-btn"),cartType=theme.settings.cartType;cartUpsellButtons.forEach(upsellButton=>{const isEventAdded=upsellButton.hasAttribute("data-has-click-event");isEventAdded?upsellButton.setAttribute("data-has-click-event","true"):upsellButton.addEventListener("click",event=>{event.preventDefault();const button=event.target.closest(".cu-addtocart-btn"),form=button.closest(".cu-form"),upsellAddon=document.querySelector(".dbtfy-upsell_popup");if(theme.loadingState.init(button),button.classList.contains("cu-replace-offer")){const e=button.closest(".cart__row"),t=+e.dataset.line,r=e.querySelector(".cart__product-qty");let a=!1;if(r){const e=r.value,t=form.querySelector(".qty-input"),n=+form.querySelector(".cu-select").selectedOptions[0].dataset.variantQuantity;a=n>=+e,t.value=e}a&&$.ajax({type:"POST",url:"/cart/change.js",dataType:"json",async:!1,data:{line:t,quantity:0}})}ShopifyAPI.addItemFromForm(form,()=>{$("body").on("ajaxCart.afterCartLoad",function(e,t){theme.loadingState.destroy(button)}),upsellAddon?document.dispatchEvent(new CustomEvent("dbtfy:formSubmitted",{detail:{form:form}})):theme.ajaxCart.update(),document.body.classList.remove("js-modal-open")},(XMLHttpRequest,textStatus,form)=>{const data=eval(`(${XMLHttpRequest.responseText})`);if(theme.loadingState.destroy(button),data.message&&422===data.status){const e=button.nextElementSibling;e&&e.remove(),button.insertAdjacentHTML("afterend",`<div class="errors qty-error">${data.description}</div>`)}})})});const isCartPage=document.body.classList.contains("template-cart");"drawer"===cartType&&isCartPage&&theme.ajaxCart.init()}dbtfy&&($("body").on("ajaxCart.afterCartLoad",function(e,t){t.items.length&&(SpecificCartUpsell(t),GeneralCartUpsell(t),addListeners(),$("body").trigger("dbtfy:cartUpsellLoaded",t))}),$("body").hasClass("template-cart")&&ShopifyAPI.getCart(e=>{e.items.length&&(SpecificCartUpsell(e),GeneralCartUpsell(e),addListeners(),$("body").trigger("dbtfy:cartUpsellLoaded",e))}))}CartUpsell();} function themeCartUpsellDestroy() {function destroyCartUpsell(){const t=document.querySelectorAll(".dbtfy-cart_upsell");t.length&&t.forEach(t=>{t.remove()})}destroyCartUpsell(),$("body").on("ajaxCart.afterCartLoad",function(){destroyCartUpsell()});} /* end-dbtfy-cart-upsell */

  /* start-dbtfy-collection-addtocart */ function themeCollectionAddtocart(){} function themeCollectionAddtocartDestroy() {} /* end-dbtfy-collection-addtocart */

  /* start-dbtfy-collection-filters */ function themeCollectionFilters(){} function themeCollectionFiltersDestroy() {} /* end-dbtfy-collection-filters */

  /* start-dbtfy-color-swatches */ function themeColorSwatches(){} function themeColorSwatchesDestroy() {} /* end-dbtfy-color-swatches */

  /* start-dbtfy-cookie-box */ function themeCookieBox(){async function CookieBox(){document.body.classList.remove("dbtfy-cookie_box-destroy");if(!document.querySelector(".dbtfy-cookie_box"))return;const o=theme.settings.dbtfyCookieBoxEUOnly,e=await theme.getUserLocationData();if(!o||!e||e.in_eu){var t=$("#CookieBox"),i=$(".cb-btn, .cb-btn-close");localStorage.cookieboxClosed||t.show(),i.click((function(){theme.closeTransition({elementToTransition:t},(function(){t.hide(),localStorage.setItem("cookieboxClosed","true")}))}))}}CookieBox();} function themeCookieBoxDestroy() {function destroyCookieBox(){const o=document.querySelector(".dbtfy-cookie_box");o&&o.remove()}document.body.classList.add("dbtfy-cookie_box-destroy"),destroyCookieBox();} /* end-dbtfy-cookie-box */

  /* start-dbtfy-custom-currencies */ function themeCustomCurrencies(){} function themeCustomCurrenciesDestroy() {} /* end-dbtfy-custom-currencies */

  /* start-dbtfy-customizable-products */ function themeCustomizableProducts() {function CustomizableProducts(){const e=document.querySelector(".dbtfy-customizable_products");if(!e)return;if(!e.querySelectorAll(".line-item-property__field").length)return;const t=theme.visibilitySettings.sortVisibilityTypes(e,".line-item-property__field"),r=document.querySelectorAll(".featured-product-section, .product-section");for(let[e,c]of t)c.forEach(e=>{const t={visibility:e.dataset.visibilityType,tags:e.dataset.tags,types:e.dataset.types,productId:e.dataset.productId,collection:e.dataset.collection,template:e.cloneNode(!0)};r.forEach(e=>{const r=e.querySelector(".mainProductJson");if(!r)return;const c=JSON.parse(r.innerHTML);theme.visibilitySettings.checkForVisibility(c,t,function(){o(e,t)})})});function o(e,t){const r=t.template.cloneNode(!0),o=e.querySelector(".product-single__add-to-cart"),c=e.querySelector(".dbtfy-list-property-fields");if(c)c.insertAdjacentElement("beforeend",r);else{const e=document.createElement("div");e.classList.add("dbtfy-list-property-fields"),e.insertAdjacentElement("beforeend",r),o.insertAdjacentElement("beforebegin",e)}}document.querySelectorAll(".dbtfy-list-property-fields").forEach((e,t)=>{const r=e.querySelectorAll(".line-item-property__field");r.forEach((e,r)=>{const o=e.querySelectorAll("input:not([type='hidden']), textarea, select"),c=e.querySelectorAll(".cp-checkbox-group-checkbox"),i=e.querySelector(".cp-checkbox-group-hidden");c.forEach(e=>{e.addEventListener("change",()=>{const e=Array.from(c).reduce((e,t)=>t.checked?`${e}, ${t.value}`:e,"").slice(2);i.value=e})}),o.forEach((e,o)=>{const c=e.parentElement.querySelector("label");c.setAttribute("for",`${e.id}-${t}-${r}-${o}`),e.setAttribute("id",`${e.id}-${t}-${r}-${o}`)})})})}CustomizableProducts();} function themeCustomizableProductsDestroy() {function destroyCustomizableProducts(){const o=document.querySelector(".dbtfy-customizable_products");o&&o.remove()}destroyCustomizableProducts();} /* end-dbtfy-customizable-products */

  /* start-dbtfy-delivery-date */  function themeDeliveryDate() {} function themeDeliveryDateDestroy() {} /* end-dbtfy-delivery-date */

  /* start-dbtfy-delivery-time */  function themeDeliveryTime() {} function themeDeliveryTimeDestroy() {} /* end-dbtfy-delivery-time */

  /* start-dbtfy-discount-saved */ function themeDiscountSaved(){function DiscountSaved(){function a(a){const b=a.querySelector("[id^='MainProductSelect']");if(b){const c=a.querySelectorAll(".number-discount_saved");c.forEach(a=>{a.classList.add("hide")});const d=b.value;if(d){const b=a.querySelectorAll(`.discount_saved-${d}`);b&&b.forEach(a=>{a.classList.remove("hide")})}}}const b=document.querySelectorAll(".dbtfy-discount_saved");b.length&&b.forEach(b=>{const c=b.closest("[data-section-type='product-template']");c&&(a(c),c.querySelectorAll(".product-form__input, .single-option-selector__radio").forEach(b=>{b.addEventListener("change",()=>{a(c)})}))})}DiscountSaved();} function themeDiscountSavedDestroy() {function destroyDiscountSaved(){const e=document.querySelectorAll(".dbtfy-discount_saved"),t=document.querySelectorAll(".dbtfy-sticky_addtocart .discount-sticky-price");e.forEach(e=>{e.remove()}),t.forEach(e=>{e.remove()})}destroyDiscountSaved();} /* end-dbtfy-discount-saved */

  /* start-dbtfy-facebook-messenger */ function themeFacebookMessengerDestroy() {} /* end-dbtfy-facebook-messenger */

  /* start-dbtfy-faq-page */ function themeFaqPage(){function FaqPage(){document.body.classList.remove("dbtfy-faq_page-destroy");var e=$(".dbtfy-faq_page");function t(){e.each((function(){var e=$(this),t=e.find(".fq-main").data("section-id"),a=[],i=e.find(".fp-item"),n=e.find(`#FaqSearch-${t}`);i.each((function(){var e=$(this),t={label:e.attr("data-question"),value:e.attr("data-question"),index:e.attr("data-index")};a.push(t)})),n.autocomplete({maxShowItems:5,source:a,search:function(e,t){$("ul.ui-autocomplete").css("max-width",`${n.outerWidth()}px`)},select:function(t,a){const i=e.find(`.fp-item[data-index="${a.item.index}"]`).find(".tab-header");theme.tabs.scroll(i)}})}))}e.length&&theme.loadScript(theme.variables.jQueryUIPluginLink,(()=>{theme.loadScript(theme.variables.jQueryUIAutocompletePluginLink,t)}))}FaqPage();} function themeFaqPageDestroy() {function destroyFaqPage(){const e=document.querySelector(".dbtfy-faq_page");e&&e.remove()}document.body.classList.add("dbtfy-faq_page-destroy"),destroyFaqPage();} /* end-dbtfy-faq-page */

  /* start-dbtfy-gift-wrap */ function themeGiftWrap(){} function themeGiftWrapDestroy() {} /* end-dbtfy-gift-wrap */

  /* start-dbtfy-inactive-tab-message */ function themeInactiveTabMessage(){function InactiveTabMessage(){const e=document.title,t=theme.settings.dbtfyInactiveTabFirstMessage,n=theme.settings.dbtfyInactiveTabSecondMessage?theme.settings.dbtfyInactiveTabSecondMessage:e,a=theme.decodeString(t),i=theme.decodeString(n),d=!!theme.settings.dbtfyInactiveTabSecondMessage,s=1e3*theme.settings.dbtfyInactiveTabDelay;let c=!1,o="";a&&document.addEventListener("visibilitychange",function(t){document.dispatchEvent(new CustomEvent("tabChanged",{detail:{isTabChanged:document.hidden}})),!document.hidden?(clearInterval(o),document.title=e):d?o=setInterval(function(){document.title=c?i:a,c=!c},s):document.title=a})}InactiveTabMessage();} /* end-dbtfy-inactive-tab-message */

  /* start-dbtfy-infinite-scroll */ function themeInfiniteScroll(){function InfiniteScroll(){const n=document.querySelector(".dbtfy-infinite_scroll");n&&theme.loadScript(theme.variables.ajaxinatePluginLink,function(){const e=n.dataset.endlessType;new Ajaxinate({container:"#infiniteScrollContainer",pagination:"#infiniteScrollPagination",method:e,callback:function(){document.body.dispatchEvent(new CustomEvent("afterRecommendationLoad"))}}),document.querySelectorAll(".pagination").forEach(n=>{n.setAttribute("hidden","hidden")})})}InfiniteScroll();} function themeInfiniteScrollDestroy() {function destroyInfiniteScroll(){const e=document.querySelector(".dbtfy-infinite_scroll");e&&(e.remove(),"undefined"!=typeof Ajaxinate&&(new Ajaxinate).destroy())}destroyInfiniteScroll();} /* end-dbtfy-instagram-feed */

  /* start-dbtfy-instagram-feed */ function themeInstagramFeed(){} function themeInstagramFeedDestroy() {} /* end-dbtfy-instagram-feed */

  /* start-dbtfy-inventory-quantity */ function themeInventoryQuantity(){function InventoryQuantity(){const a=document.querySelector(".dbtfy-inventory_quantity");if(!a)return;const b=document.querySelectorAll(".dbtfy-inventory_quantity:not(.sticky_inventory_quantity)");if(!b.length)return;const c=document.body.classList.contains("template-product"),d=document.querySelector(".sticky_inventory_quantity");b.forEach(a=>{function b(a){function b(){if(!a)return;const b=a.hasAttribute("data-show-random-values"),c=a.closest("[data-product-handle]");if(!c)return;const d=c.querySelector(".btn--add-to-cart, .js-add-to-cart-button"),e=a.parentElement;if(d&&d.matches(":disabled"))return a.setAttribute("hidden","hidden"),void(1===e.children.length&&e.setAttribute("hidden","hidden"));const f=a.classList.contains("sticky_inventory_quantity")?document.querySelector(".select-sticky_addtocart option:checked"):null,g=c.querySelector("[id^='MainProductSelect'] option:checked"),h=f?+f.value:g?+g.value:null,i=a.querySelectorAll(".quantity-item-inventory_quantity");if(!i.length)return a.setAttribute("hidden","hidden"),null;const j=Array.from(i).some(a=>a.classList.contains(`quantity-item-${h}-inventory_quantity`));j.length?(a.removeAttribute("hidden"),e.removeAttribute("hidden")):(a.setAttribute("hidden","hidden"),1===e.children.length&&e.setAttribute("hidden","hidden")),i.forEach(b=>{if(b.classList.contains(`quantity-item-${h}-inventory_quantity`)){const c=b.querySelector(".quantity-item-less-threshold-inventory_quantity"),d=b.querySelector(".quantity-item-more-threshold-inventory_quantity"),e=b.querySelector(".quantity-item-value-inventory_quantity"),f=theme.cart.items&&theme.cart.items.reduce((a,b)=>b.id===h?a+b.quantity:a,0),g=+b.dataset.thresholdQty,j=+b.dataset.originQuantity,k=j-f;0<k?(e&&(e.innerHTML=k),b.removeAttribute("hidden"),d&&(k<=g?(c.removeAttribute("hidden"),d.setAttribute("hidden","hidden")):(c.setAttribute("hidden","hidden"),d.removeAttribute("hidden")))):(b.setAttribute("hidden","hidden"),1===i.length&&a.setAttribute("hidden","hidden"))}else b.setAttribute("hidden","hidden")})}function c(){if(!a)return;const b=a.querySelectorAll(".quantity-item-inventory_quantity"),c=Array.from(b).some(a=>!a.hasAttribute("hidden"));c?a.removeAttribute("hidden"):a.setAttribute("hidden","hidden")}theme.isCartLoaded?(b(),c()):document.addEventListener("dbtfy:cartLoaded",function(){b(),c()})}a.removeAttribute("hidden");const e=a.closest(".product-single[data-product-handle]"),f=e?e.dataset.productHandle:"";if(f){const e=document.querySelectorAll(".product-form__input, .single-option-radio, .input-color_swatches");e.forEach(c=>{c.addEventListener("change",function(){b(a)})});const f=document.querySelector(".select-sticky_addtocart");f&&(f.addEventListener("change",()=>{c&&d&&b(d)}),document.addEventListener("stickyATCButtonStateChanged",()=>{b(d)})),b(a),c&&d&&b(d),document.addEventListener("ProductPageBuilt",()=>{b(a)}),$("body").on("ajaxCart.afterCartLoad",function(){b(a)})}})}InventoryQuantity();} function themeInventoryQuantityDestroy() {function destroyInventoryQuantity(){const t=document.querySelectorAll(".dbtfy-inventory_quantity"),e=document.querySelectorAll(".product-single__quantity");t.forEach(t=>{t.remove()}),e.forEach(t=>{const e=t.hasAttribute("data-quantity-enabled"),n=t.hasAttribute("data-quantity-breaks-enabled");e||n||t.remove()})}destroyInventoryQuantity();} /* end-dbtfy-inventory-quantity */

  /* start-dbtfy-linked-options */ function themeLinkedOptions(){} /* end-dbtfy-linked-options */

  /* start-dbtfy-mega-menu */ function themeMegaMenu(){function MegaMenu(){document.body.classList.remove("dbtfy-mega_menu-destroy");var e=$(".mm-item");function t(e,t){const o=this.slider=e,a=$(o);if(!a.length)return;const s={dots:a.data("dots"),arrows:a.data("arrows"),autoplay:a.data("autoplay"),autoplaySpeed:a.data("autoplayspeed"),slidesToShow:t||a.data("slides-to-show"),slidesToScroll:1,speed:theme.variables.transitionSpeed,responsive:[{breakpoint:767,settings:{slidesToShow:1,centerMode:!0,autoplay:!1}}]};theme.carousel.init({slider:a,slickOptions:s})}e.length&&e.each((function(){var e=$(this),o=e.data("position"),a=$(".nav-container-menu .site-nav__item").eq(o-1),s=e.data("blockid");e.insertBefore(a),t(".mm-product-carousel__"+s),t(".mm-images-container__"+s,3)}))}$(document).on("shopify:section:load",(function(){MegaMenu(),theme.dropdown()})),MegaMenu();} function themeMegaMenuDestroy() {function destroyMegaMenu(){const e=document.querySelectorAll(".dbtfy-mega_menu");e.length&&e.forEach(e=>{e.remove()})}document.body.classList.add("dbtfy-mega_menu-destroy"),destroyMegaMenu(),$(document).on("shopify:section:load",function(){destroyMegaMenu()});} /* end-dbtfy-mega-menu */

  /* start-dbtfy-menu-bar */ function themeMenuBarDestroy() {function destroyMenuBars(){const e=document.querySelectorAll(".dbtfy-menu_bar");e.length&&e.forEach(e=>{e.remove()})}destroyMenuBars();} /* end-dbtfy-menu-bar */

  /* start-dbtfy-minimum-order */ function themeMinimumOrderDestroy() {} /* end-dbtfy-minimum-order */

  /* start-dbtfy-newsletter-popup */ function themeNewsletterPopup(){function NewsletterPopup(){document.body.classList.remove("dbtfy-newsletter_popup-destroy");var t=$(".dbtfy-newsletter_popup");t.length&&theme.loadScript(theme.variables.jQueryExitIntentPluginLink,(function(){var e=t.data("timeout"),o=t.data("time-trigger"),n=t.data("exit-intent"),s=t.data("scroll-depth"),i=t.data("page-scroll-percentage"),a=$(".np-success")[0],c=$(".np-apply-coupon"),r=$(".np-floating-bar"),u=$("#NewsletterPopup"),d=$("#input-newsletter_popup"),l=parseInt(t.data("discount")),p=t.data("discount-code"),m=t.data("discount-type");theme.variables.bpSmall?d.removeAttr("data-focus"):d.attr("data-focus","");function f(){sessionStorage.newsletterPopupClosed||(g(),theme.modal.open(u))}function g(){const t=document.querySelectorAll(".modal.js-modal-open");t.length&&t.forEach((t=>{"NewsletterPopup"!==t.id&&t.classList.toggle("not-priority")}))}function w(t){if(p&&m&&l){const e={name:p,type:m,amount:l},o=sessionStorage.getItem("discount")?JSON.parse(sessionStorage.getItem("discount")):null;if(o)switch(o.type){case"%":o.amount<l&&sessionStorage.setItem("discount",JSON.stringify(e));break;case"$":const n=t.total_price/100;100*o.amount/n<l&&sessionStorage.setItem("discount",JSON.stringify(e))}else sessionStorage.setItem("discount",JSON.stringify(e))}}if(c.click((function(){ShopifyAPI.getCart(w)})),$(u).on("modal.close",(function(){sessionStorage.setItem("newsletterPopupClosed","true"),g()})),$(window).blur((function(t){$("iframe").is(":focus")||f()})),r.on("click",(function(){sessionStorage.removeItem("newsletterPopupClosed"),f()})),a){const t=$(a).find(".np-reward-apply");f(),t.on("click",(function(){const t=a.dataset.discountName,e=a.dataset.discountType,o=+a.dataset.discountAmount;t&&e&&o&&(theme.discountCode.addDiscount(t,e,o),theme.discountCode.init())}))}else if(o&&setTimeout((function(){f()}),e),n&&($.exitIntent("enable"),$(document).bind("exitintent",(function(){f()}))),s){var h=$(window).height(),y=$(document).height();$(window).on("scroll",(function(){var t=$(window).scrollTop(),e=y-h;Math.floor(t/e*100)>parseInt(i)&&f()}))}}))}"/challenge"!==window.location.pathname&&NewsletterPopup();} function themeNewsletterPopupDestroy() {function destroyNewsletterPopup(){const e=document.querySelectorAll(".dbtfy-newsletter_popup");e.length&&e.forEach(e=>{e.remove()})}document.body.classList.add("dbtfy-newsletter_popup-destroy"),destroyNewsletterPopup(),$(document).on("shopify:section:load",function(){destroyNewsletterPopup()});} /* end-dbtfy-newsletter-popup */

  /* start-dbtfy-order-feedback */ function themeOrderFeedback(){} function themeOrderFeedbackDestroy() {} /* end-dbtfy-order-feedback */

  /* start-dbtfy-order-tracking */ function themeOrderTracking(){function OrderTracking(){const t=document.getElementById("ot-form"),e=document.getElementById("ot-num"),n=document.getElementById("ot-btn");t&&theme.loadScript(theme.variables.trackingPluginLink,function(){t.addEventListener("submit",function(t){t.preventDefault();const i=e.value;if(""===i)return alert("Enter your number."),theme.loadingState.destroy(n),void setTimeout(()=>{n.removeAttribute("disabled")},0);n.setAttribute("disabled","disabled"),n.classList.add("btn--loading");try{!function(t){YQV5.trackSingle({YQ_ContainerId:"ot-container",YQ_Height:560,YQ_Fc:"0",YQ_Lang:"en",YQ_Num:t})}(i)}finally{setTimeout(function(){n.removeAttribute("disabled"),n.classList.remove("btn--loading")},1500)}})})}OrderTracking();} function themeOrderTrackingDestroy() {function destroyOrderTracking(){const r=document.querySelector(".dbtfy-order_tracking");r&&r.remove()}destroyOrderTracking();} /* end-dbtfy-order-tracking */

  /* start-dbtfy-page-transition */ function themePageTransition() {} function themePageTransitionDestroy() {} /* end-dbtfy-page-transition */

  /* start-dbtfy-page-speed-booster */ function themePageSpeedBooster() {function PageSpeedBooster(){theme.loadScript(theme.variables.speedBoosterPluginLink)}PageSpeedBooster();} /* end-dbtfy-page-speed-booster */

  /* start-dbtfy-pricing-table */ function themePricingTableDestroy() {function destroyPricingTable(){const e=document.querySelectorAll(".dbtfy-pricing_table");e.length&&e.forEach(e=>{e.remove()})}destroyPricingTable();} /* end-dbtfy-pricing-table */

  /* start-dbtfy-product-bullet-points */ function themeProductBulletPoints() {function ProductBulletPoints(){const t=document.querySelector(".dbtfy-product_bullet_points");if(!t)return;const e=t.querySelectorAll(".pbp-point");if(!e.length)return;const n=document.querySelectorAll(".product-single[data-product-handle]"),i={};if(n.length&&n.forEach(t=>{const n=t.querySelector(".pbp-points"),o=t.querySelector(".product-info-JSON"),c=o?JSON.parse(o.innerHTML):null;if(n&&n.remove(),!c)return;const r=c.handle;e.forEach(t=>{const e={visibility:t.dataset.visibilityType,tags:t.dataset.visibilityProductTags,types:t.dataset.visibilityProductTypes,productId:t.dataset.visibilityProduct,collection:t.dataset.visibilityCollection};theme.visibilitySettings.checkForVisibility(c,e,function(){!function(t,e){i[t]?i[t].includes(e)||i[t].push(e):i[t]=[e]}(r,t)})})}),!Object.keys(i).length)return;const o=t.dataset.position,c=t.dataset.alignment,r=t.dataset.displayType;for(const[t,e]of Object.entries(i)){const n=document.querySelector(`.product-single[data-product-handle="${t}"]`),i=n.querySelector(".product-wl-qc-buttons-wrapper");if(!n)return;let s=null;const l=[];switch(o){case"under-product-price":s=i||n.querySelector(".price-container");break;case"under-addtocart-button":s=n.querySelector(".product-single__add-to-cart")}if(!s)return;const d=document.createElement("ul");d.classList.add("pbp-points","inline-list",...l),"left"===c?d.classList.add("text-left"):d.classList.add("text-center"),"newline"===r&&(d.style.display="grid"),e.forEach(t=>{d.insertAdjacentElement("beforeend",t.cloneNode(!0))}),s.insertAdjacentElement("afterend",d)}}ProductBulletPoints(),document.addEventListener("shopify:section:load",t=>{ProductBulletPoints()});} function themeProductBulletPointsDestroy() {function destroyProductBulletPoints(){const t=document.querySelector(".dbtfy-product_bullet_points");t&&t.remove()}destroyProductBulletPoints();} /* end-dbtfy-product-bullet-points */

  /* start-dbtfy-product-image-crop */ function themeProductImageCrop() {function ProductImageCrop(){document.body.classList.remove("dbtfy-product_image_crop-destroy")}ProductImageCrop();} function themeProductImageCropDestroy() {document.body.classList.add("dbtfy-product_image_crop-destroy");} /* end-dbtfy-product-image-crop */

  /* start-dbtfy-product-swatches */ function themeProductSwatches() {function ProductSwatches(){const e=document.querySelector(".dbtfy-product_swatches");if(!e)return;const t=e.dataset.showInProductGrid;document.querySelectorAll(".product-section, .featured-product-section").forEach(t=>{const o=+t.querySelector(".product-single").dataset.productId,r=e.cloneNode(!0),n=r.querySelectorAll(".ps-group"),d=theme.settings.enableHistoryState;if(c(n,o,r,t,!1),!d){const e=window.location.pathname.split("?");window.history.replaceState({},"",e[0])}});const o=document.querySelectorAll(".grid-product, .list-product");function c(e,t,o,c,r,n){if(e.length){e.forEach(e=>{const o=e.querySelectorAll("li");let c=!1;o.forEach(e=>{if(+e.dataset.productId===t){const t=e.dataset.productOption,o=e.closest(".ps-group").querySelector(".variant-label-option-value");c=!0,e.classList.add("active"),o&&(o.innerHTML=t)}}),(!c||o.length<=1)&&e.remove()}),(c?c.querySelectorAll(".product_swatches_container"):[]).forEach(e=>{e.remove()});const d=c?c.querySelector(".pbp-points"):null,s=c?c.querySelector(".price-container-desktop"):null,a=document.createElement("div");if(a.classList.add("product_swatches_container"),a.insertAdjacentElement("afterbegin",o),s){s.nextElementSibling.classList.contains("pbp-points")&&d?d.insertAdjacentElement("afterend",a):s.insertAdjacentElement("afterend",a)}o.hidden=!1,a.hidden=!1,r&&(n?(n.insertAdjacentElement("afterend",a),o.classList.add("list-version")):(c&&c.insertAdjacentElement("afterbegin",a),o.classList.add("card-version")))}}"true"===t&&o.forEach(t=>{const o=t.classList.contains("empty-state"),r=+t.dataset.productId,n=t.querySelector(".grid-product__meta, .list-product__details-wrapper"),d=t.querySelector(".list-product__price-wrap"),s=e.cloneNode(!0),a=s.querySelectorAll(".ps-group");o||c(a,r,s,n,!0,d)})}ProductSwatches(),document.addEventListener("dbtfy:addedRecentlyViewedProduct",()=>{ProductSwatches()}),document.addEventListener("shopify:section:load",e=>{ProductSwatches()}),$("body").on("afterRecommendationLoad",function(e){ProductSwatches()});} function themeProductSwatchesDestroy() {function destroyProductSwatches(){const e=document.querySelector(".dbtfy-product_swatches");e&&e.remove()}destroyProductSwatches(),document.addEventListener("dbtfy:addedRecentlyViewedProduct",()=>{destroyProductSwatches()});} /* end-dbtfy-product-swatches */

  /* start-dbtfy-product-tabs */ function themeProductTabs() {function ProductTabs(){const t=document.querySelector(".dbtfy-product_tabs");if(!t)return;const e=t.dataset.displayType,o=theme.visibilitySettings.sortVisibilityTypes(t,".product-tab"),r=document.querySelectorAll(".featured-product-section, .product-section"),c="vertical"===e;if(c){document.querySelectorAll(".horizontal-tab").forEach(t=>{t.remove()})}else{const t=document.querySelectorAll(".vertical-tab"),e=document.querySelector(".product-horizontal-tab-buttons").dataset.headingsStyle;document.querySelectorAll(".dbtfy-product-tab-box").forEach(t=>{t.classList.add(e)}),t.forEach(t=>{t.remove()})}document.querySelectorAll(".dbtfy-product-tab-box").forEach(t=>{t.classList.remove("horizontal-tab-box")});for(let[t,e]of o)e.forEach(t=>{const e={visibility:t.dataset.visibilityType,tags:t.dataset.productTags,types:t.dataset.productTypes,productId:t.dataset.product,collection:t.dataset.productCollection,template:t.cloneNode(!0),blockType:t.dataset.blockType};r.forEach(t=>{const o=t.querySelector(".mainProductJson");if(!o)return;const r=JSON.parse(o.innerHTML);theme.visibilitySettings.checkForVisibility(r,e,function(){i(t,e,r)})})});function a(t,e,o,r,c){const a=r,i=c;if("description"===e.blockType&&t.classList.contains("featured-product-section")){const t=document.createElement("div");t.classList.add("tab-content","rte"),t.innerHTML=`${o.description.replace("<p>[split_description]</p>","").replace("[split_description]","")}`,a.replaceChild(t,i)}}function i(e,o,r){const i=o.template,n=e.querySelectorAll(".dbtfy-product-tab-box"),s=e.querySelector(".horizontal-tabs-body");if(c){const t=i.querySelector(".card-body"),c=t.querySelector(".tab-content");a(e,o,r,t,c)}n.forEach(n=>{const l=n.querySelector(`#${CSS.escape(i.id)}`);!!l&&n.contains(l)||n.insertAdjacentHTML("beforeend",i.outerHTML),c?s&&s.remove():(!function(e,o,r,i){const n=o.querySelectorAll(".product-tab"),s=document.createElement("div"),l=e.querySelector(".horizontal-tabs-body");s.classList.add("horizontal-tabs-body"),l||o.insertAdjacentHTML("afterend",s.outerHTML);n.forEach((o,n)=>{const s=o.id,l=t.querySelector(`#ProductTabs [data-id="${s}"]`),d=e.querySelector(".horizontal-tabs-body"),u=d.querySelector(`[data-id="${s}"]`);if(!u){!function(t,e,o,r){if(c)return;const a=r.querySelector(".horizontal-tab-active");a&&a.id!==o.dataset.id&&(o.setAttribute("hidden","hidden"),t.classList.remove("horizontal-tab-active"))}(o,0,l,e);const t=l.querySelector(".card-body"),n=l.querySelector(".tab-content");a(e,r,i,t,n),d.insertAdjacentHTML("beforeend",l.outerHTML)}}),o.classList.add("horizontal-tab-box")}(e,n,o,r),document.querySelectorAll(".horizontal-tab-box .product-tab").forEach(t=>{t.hasAttribute("has-click-event")||(t.addEventListener("click",()=>{const e=t.closest(".dbtfy-product-tab-box"),o=t.parentElement.nextElementSibling,r=o.querySelectorAll(".tab"),c=o.querySelector(`[data-id='${t.id}']`),a=e.querySelectorAll(".product-tab");a.forEach(t=>{t.classList.remove("horizontal-tab-active")}),r.forEach(t=>{t.setAttribute("hidden","hidden")}),c.removeAttribute("hidden"),t.classList.add("horizontal-tab-active")}),t.setAttribute("has-click-event","true"))}))}),theme.tabs.init(),t.querySelectorAll(".product-tab").forEach(t=>{t.remove()})}r.forEach(t=>{t.querySelectorAll(".product-tab").forEach(e=>{const o=e.dataset.blockType,r=e.classList.contains("vertical-tab");"reviews"===o&&function(t,e,o){const r=t.classList.contains("product-section")?document.querySelector(".review-widget"):t.querySelector(".review-widget"),c=t.querySelector(".review-badge"),a=c?c.cloneNode(!0):null;let i,n;r&&r.classList.remove("section-border");if(o)i=e.querySelector(".tab-body .tab-content"),n=e.querySelector("button");else{const t=e.dataset.index;i=e.parentElement.nextElementSibling.querySelector(`[data-index='${t}'] .tab-body .tab-content`)}a&&a.classList.remove("spacer-bottom");const s=n&&n.querySelector(".review-badge");s&&n&&a&&n.replaceChild(a,s);if(i&&r){const t=r.closest(".product-single-reviews-wrapper");i.insertAdjacentElement("afterbegin",r),t.remove()}}(t,e,r)})})}ProductTabs(),document.addEventListener("shopify:section:load",t=>{ProductTabs()});} function themeProductTabsDestroy() {function destroyProductTabs(){const t=document.querySelectorAll(".dbtfy-product_tabs");t.length&&t.forEach(t=>{t.remove()})}destroyProductTabs();} /* end-dbtfy-product-tabs */

  /* start-dbtfy-quantity-breaks */ function themeQuantityBreaks() {function QuantityBreaks(){document.body.classList.remove("dbtfy-quantity_breaks-destroy");const e=document.querySelector(".dbtfy-quantity_breaks");if(!e)return;const t={singleBreakText:e.dataset.singleBreakText,moreDiscountBeforeQuantityText:e.dataset.moreDiscountBeforeQuantityText,moreDiscountAfterQuantityText:e.dataset.moreDiscountAfterQuantityText,moreDiscountAfterPercentageText:e.dataset.moreDiscountAfterPercentageText,highestDiscountText:e.dataset.highestDiscountText,singleBreakPriceType:e.dataset.singleBreakPriceType,productSectionSelector:"[data-section-type='product-template']",cartBreakSelector:".qb-cart_break",productBreaksContainerSelector:".qb-product_breaks_container",productBreaksSelector:".qb-product_breaks",productBreakSelector:".qb-product_break",quantitySelector:".qb-quantity",moneyFormat:theme.strings.moneyFormat},n={add:function(e){const t=this.getStoredQuantityBreaks();if(!t.length)return void sessionStorage.setItem("breaks-discounts",JSON.stringify([e]));t.some((t=>t.productId===e.productId))||(t.push(e),sessionStorage.setItem("breaks-discounts",JSON.stringify(t)))},getStoredQuantityBreaks:function(){const e=sessionStorage.getItem("breaks-discounts");if(!e)return[];const t=JSON.parse(e);return"object"!=typeof t?[]:t}};function o(){const n=theme.cart;n&&(r(),function(n){const o=e.querySelectorAll(t.cartBreakSelector);if(!o.length)return;const r=n.total_price;let a=n.item_count,c=document.createElement("div"),i=document.createElement("div"),u=document.createElement("div");c.classList.add("dbtfy","dbtfy-quantity_breaks","qb-cart_break"),i.classList.add("card","card-body-xs","text-center","qb-alert"),u.classList.add("qb-text"),c.appendChild(i),i.appendChild(u);let d=Array.from(o).map((e=>{const t=+e.dataset.range,n=e.dataset.discountCode,o=+e.dataset.discountAmount;return{name:n,type:e.dataset.discountType,amount:o,range:t}})),l=Array.from(d,(e=>e.range)),y=l.sort(((e,t)=>e-t)),m=y.reduce(((e,t)=>Math.abs(t-a)<Math.abs(e-a)?t:e));function p(e,n){let o;o="$"===e.type?`<span class="money">${theme.Currency.formatMoney(100*e.amount,t.moneyFormat)}</span>`:`${e.amount}%`,(t.moreDiscountBeforeQuantityText||t.moreDiscountAfterQuantityText||t.moreDiscountAfterPercentageText)&&(u.innerHTML=`${t.moreDiscountBeforeQuantityText} <strong class="text-secondary">${n}</strong> ${t.moreDiscountAfterQuantityText} <strong class="text-secondary">${o}</strong> ${t.moreDiscountAfterPercentageText}</div>`)}let f=m-a,b=d.find((e=>e.range===m));if(0===y.indexOf(m)&&a<m)p(b,f);else if(y.indexOf(m)===y.length-1)t.highestDiscountText&&(u.innerHTML=`<div class="qb-highest-discount-text">${t.highestDiscountText}</div>`);else{let e=y.indexOf(m)+1;for(;e;){let t=y[e],o=d.find((e=>e.range===t));if(e++,!t)break;let r=theme.discountCode.getStoredDiscounts(),c=theme.discountCode.getMostValuableDiscount(r,n);const i=s(c,n),u=s(o,n);if(t&&c&&u>i){p(o,t-a);break}}}function h(){const e=document.querySelector("#CartDrawer .cart__total-price-info"),t=document.querySelector("#CartModal .cart__total-price-info"),n="drawer"===theme.settings.cartType?e:t,o=document.querySelector("#cartForm .cart__total-price-info"),r=document.querySelector(".qb-alert-drawer-wrapper");if(r&&r.remove(),n&&!n.parentElement.querySelector(".qb-cart_break")){const e=c.querySelector(".qb-text");e&&e.innerHTML&&n.insertAdjacentHTML("afterend",c.outerHTML);const t=document.querySelector("#CartDrawer .qb-cart_break"),o=document.querySelector("#CartModal .qb-cart_break"),r="drawer"===theme.settings.cartType?t:o;if(r){const e=r.querySelector(".qb-alert");e&&""!==e.innerHTML.trim()&&r.classList.add("qb-alert-drawer-wrapper","spacer-top")}}const a=document.querySelector(".qb-alert-wrapper");if(a&&a.remove(),o&&!o.parentElement.querySelector(".qb-cart_break")){const e=c.querySelector(".qb-text");e&&e.innerHTML&&o.insertAdjacentHTML("afterend",c.outerHTML);const t=document.querySelector("#cartForm .qb-cart_break");if(t){const e=t.querySelector(".qb-alert");e&&""!==e.innerHTML.trim()&&t.classList.add("qb-alert-wrapper","spacer-top-sm","spacer-bottom")}}}o.forEach(((e,t)=>{const o=+e.dataset.range,c=e.dataset.discountCode,i=+e.dataset.discountAmount,u=e.dataset.discountType,d={name:c,type:u,amount:i};0===a?theme.discountCode.removeAllDiscountsByName(c,{role:"cart-break",needUpdate:!1}):theme.discountCode.removeDiscount(c,{role:"cart-break",needUpdate:!1});const l=theme.discountCode.getStoredDiscounts(),y=s(theme.discountCode.getMostValuableDiscount(l,n),n),m=s(d,n),p=(document.querySelector("#CartDrawer .qb-product_break_remains, #cartForm .qb-product_break_remains"),theme.settings.dbtfyGiftWrap),f=+e.dataset.giftWrapProductId,b=n.items.some((e=>e.product_id===f));if(p&&b&&a--,m>y&&m<=r&&a>=o){theme.discountCode.addDiscount(c,u,i,{role:"cart-break"})}})),h();const q=$("#currency-list-header[name='dbtfy-custom-currencies']"),S=theme.strings.shopCurrency;q.length&&Currency.convertAll(S,Currency.currentCurrency,".qb-alert .money");theme.discountCode.init()}(n),r())}function r(){!function(){const n=e.querySelectorAll(t.productBreaksSelector);if(!n.length)return;const o=`\n            <div class="qb-product_breaks_container">\n              ${Array.from(n).reduce(((e,n)=>{const o=n.querySelectorAll(t.productBreakSelector);if(!o.length)return e;const r={showOnProductPage:n.dataset.showOnProductPage,visibilityType:n.dataset.visibilityType,tags:n.dataset.tags,types:n.dataset.types,productId:n.dataset.productId,collection:n.dataset.collection},a=Array.from(o).reduce(((e,n)=>e+`\n                <div class="radio qb-quantity">\n                  <input type="radio"\n                         id="Quantity-break"\n                         name="quantity"\n                         value="${n.dataset.range}"\n                         data-discount-code="${n.dataset.discountCode}"\n                         data-discount-type="${n.dataset.discountType}"\n                         data-discount-amount="${n.dataset.discountAmount}">\n\n                  <label for="Quantity-break">\n                    ${t.singleBreakText}\n                  </label>\n                </div>\n              `),"");return e+`\n              <div class="qb-product_breaks"\n                   data-show-on-product-page="${r.showOnProductPage}"\n                   data-visibility-type="${r.visibilityType}"\n                   data-tags="${r.tags}"\n                   data-types="${r.types}"\n                   data-product-id="${r.productId}"\n                   data-collection="${r.collection}">\n\n                <div class="radio qb-quantity">\n                  <input type="radio"\n                         id="Quantity-break"\n                         name="quantity"\n                         value="1">\n\n                  <label for="Quantity-break">\n                    ${t.singleBreakText}\n                  </label>\n                </div>\n\n                ${a}\n              </div>\n            `}),"")}\n            </div>\n          `;e.insertAdjacentHTML("beforeend",o)}();const o=document.querySelectorAll(t.productSectionSelector);o.length&&(function(n){const o=theme.visibilitySettings.sortVisibilityTypes(e,t.productBreaksSelector);for(let[e,t]of o)t.forEach((e=>{const t={showOnProductPage:e.dataset.showOnProductPage,visibility:e.dataset.visibilityType,tags:e.dataset.tags,types:e.dataset.types,productId:e.dataset.productId,collection:e.dataset.collection,template:e.cloneNode(!0)};n.forEach((e=>{const n=e.querySelector(".product-info-JSON");if(!n)return;const o=JSON.parse(n.innerHTML);theme.visibilitySettings.checkForVisibility(o,t,(function(){a(e,t)}))}))}));const r=e.querySelector(t.productBreaksContainerSelector);r&&r.remove()}(o),document.querySelectorAll(t.productBreaksSelector).forEach(((e,n)=>{e.querySelectorAll(t.quantitySelector).forEach(((e,t)=>{const o=e.querySelector("label"),r=e.querySelector("input");o.setAttribute("for",`${r.id}-${n}-${t}`),r.setAttribute("id",`${r.id}-${n}-${t}`),0===t&&r.setAttribute("checked","checked")}))})),function(){const e=document.querySelectorAll(".product-form__input, .single-option-radio, .input-color_swatches"),t=document.querySelectorAll(".product-single__form--no-variants");e.length&&e.forEach((e=>{e.addEventListener("change",(function(e){c(e)})),c({target:e})})),t.forEach((e=>{c({target:e})}))}(),function(e){if(!e.length)return;e.forEach((e=>{const o=e.querySelector(".product-single__form");o&&o.addEventListener("submit",(()=>{!function(e,o){if(!e||!o)return;const r=+e.dataset.productId,a=o.querySelectorAll(t.quantitySelector),c=Array.from(a).map((e=>{const t=e.querySelector("input"),n=+t.value,o=t.dataset.discountCode,r=t.dataset.discountType,a=+t.dataset.discountAmount;if(1!==n)return{breakCount:n,discount:{code:o,type:r,amount:a}}})).filter((e=>e)),s={productId:r,breaks:c};n.add(s)}(e,o)}))}))}(o)),function(){const e=theme.cart,o=n.getStoredQuantityBreaks();o.forEach((t=>{const n=t.productId,o=t.breaks,r=e.items.reduce(((e,t)=>t.product_id===n?e+t.quantity:e),0),a=o.slice().reverse().find((e=>e.breakCount<=r));a?theme.discountCode.removeAllDiscountsByName("",{productId:n,breakCount:{checkFunction:function(e){return e.breakCount>a.breakCount}}}):theme.discountCode.removeAllDiscountsByName("",{productId:n});const c=a?a.discount:null,i=theme.discountCode.getStoredDiscounts(),u=s(theme.discountCode.getMostValuableDiscount(i,e),e),d=s(c,e),l=e.total_price,y=o.find((t=>{const n=s(t.discount,e);return t.breakCount>r&&n>u}));if(d>u)c&&d<=l&&theme.discountCode.addDiscount(c.code,c.type,c.amount,{role:"quantity-breaks",productId:n,breakCount:a.breakCount});else{const e=c?null:y;e&&theme.discountCode.removeDiscount(e.discount.code,{role:"quantity-breaks",productId:n,breakCount:e.breakCount})}theme.discountCode.init()})),o.forEach((n=>{const o=n.productId,r=n.breaks,a=e.items.reduce(((e,t)=>t.product_id===o?e+t.quantity:e),0),
  c=r.slice().reverse().find((e=>e.breakCount<=a)),i=c?c.discount:null,u=theme.discountCode.getStoredDiscounts(),d=s(theme.discountCode.getMostValuableDiscount(u,e),e),l=s(i,e),y=e.total_price,m=r.find((t=>{const n=s(t.discount,e);return t.breakCount>a&&n>d})),p=m?m.discount:null,f=s(p,e);let b='<div class="dbtfy dbtfy-quantity_breaks qb-product_break"><div class="card card-body-xs text-center qb-alert qb-product_break_remains">';if(l>d)b+=f>l&&f<=y?h():q();else{const t=theme.discountCode.getStoredDiscounts(),n=s(theme.discountCode.getMostValuableDiscount(t,e),e);b+=f>n&&f<=y?h():q()}function h(){let e="";const n=m.breakCount-a;let o=`${p.amount}%`;return"$"===p.type&&(o=`<span class="money">${theme.Currency.formatMoney(100*p.amount,t.moneyFormat)}</span>`),(t.moreDiscountBeforeQuantityText||t.moreDiscountAfterQuantityText||t.moreDiscountAfterPercentageText)&&(e+=`<div class="qb-text">${t.moreDiscountBeforeQuantityText} <strong class="text-secondary">${n}</strong> ${t.moreDiscountAfterQuantityText} <strong class="text-secondary">${o}</strong> ${t.moreDiscountAfterPercentageText}</div>`),e}function q(){return t.highestDiscountText&&d>0?`<div class="qb-highest-discount-text">${t.highestDiscountText}</div>`:""}b+="</div></div>",e.items.forEach((e=>{const t=e.product_id;if(t!==o)return;document.querySelectorAll(`.cart__row[data-product-id='${t}']`).forEach((e=>{const t=e.closest(".ajaxcart-form");if(e.querySelectorAll(".dbtfy-quantity_breaks").forEach((e=>{e.remove()})),e.insertAdjacentHTML("afterbegin",b),t){const t=e.querySelector(".qb-product_break");t&&t.classList.add("spacer-bottom")}}))}));const S=$("#currency-list-header[name='dbtfy-custom-currencies']"),g=theme.strings.shopCurrency;S.length&&Currency.convertAll(g,Currency.currentCurrency,".qb-alert .money"),theme.discountCode.init()}))}()}function a(e,n){if(!e)return;const o=e.querySelectorAll(t.productBreaksSelector),r=document.querySelector(".quantity-sticky_addtocart");r&&r.remove(),o.forEach((e=>{e.remove()}));const a=e.querySelector(".product-single__quantity"),c=a.querySelector(".qty-container");for(a.querySelector(".inline-label").removeAttribute("hidden");c.firstChild;)c.removeChild(c.lastChild);const s=n.template.cloneNode(!0),i=document.body.classList.contains("template-product");"true"!==s.dataset.showOnProductPage&&i?c.setAttribute("hidden","hidden"):c.removeAttribute("hidden"),c.insertAdjacentElement("beforeend",s)}function c(e){const n=e.target.closest(t.productSectionSelector);if(!n)return;const o=n.querySelector("[id^='MainProductSelect']").querySelector("option:checked"),r=o?+o.value:null,a=n.querySelectorAll(t.quantitySelector),c=n.querySelector(".mainProductJson");if(!c)return;const s=JSON.parse(c.innerHTML).variants.find((e=>e.id===r));if(s){a.forEach((e=>{const n=e.querySelector("label"),o=e.querySelector("input"),r=+o.value,a=o.dataset.discountType,c=+o.dataset.discountAmount,i=!!t.singleBreakPriceType&&t.singleBreakPriceType.includes("single");let u=s.price,d=s.compare_at_price,l=t.singleBreakText,y="";if(l=l.replace("_COUNT_",r),r>1)switch(d=i?u:u*r,a){case"$":i?(y=`<span class="money">${theme.Currency.formatMoney(100*c/r,t.moneyFormat)}</span>`,u=d-100*c/r):(y=`<span class="money">${theme.Currency.formatMoney(100*c,t.moneyFormat)}</span>`,u=d-100*c);break;case"%":u=d-d/100*c,y=`${c}%`}if(r>1&&!c||u<0||d<0?e.setAttribute("data-invalid-value","true"):e.removeAttribute("data-invalid-value"),l=d?l.replace("_PRICE_",`\n                  <span class="qb-price text-money">\n                    <span class="qb-discounted-price on-sale text-sale" data-price="${u}">\n                      <span class="money">\n                        ${theme.Currency.formatMoney(u,t.moneyFormat)}\n                      </span>\n                    </span>\n\n                    <span class="qb-original-price text-strike text-muted" data-compare-price="${d}">\n                      <span class="money">\n                        ${theme.Currency.formatMoney(d,t.moneyFormat)}\n                      </span>\n                    </span>\n                  </span>\n                `):l.replace("_PRICE_",`\n                  <span class="qb-price text-money">\n                    <span class="money">\n                      ${theme.Currency.formatMoney(u,t.moneyFormat)}\n                    <span>\n                  </span>\n                `),r>1){const e=theme.strings.saveLabel.replace("\{\{ saved_amount \}\}",y);l=l.replace("_SAVED_AMOUNT_",`\n                  <span class="badge qb-saved-amount">\n                    ${e}\n                  </span>\n                `)}else l=l.replace("_SAVED_AMOUNT_","");n.innerHTML=l})),function(){theme.isCartLoaded?e():document.addEventListener("dbtfy:cartLoaded",e);function e(){document.querySelectorAll(t.productBreaksSelector).forEach((e=>{const o=e.querySelectorAll(t.quantitySelector),r=e.closest(t.productSectionSelector);if(!r)return;const a=r.querySelector("[id^='MainProductSelect']").querySelector("option:checked"),c=+a.value,s=r.querySelector(".mainProductJson");if(!s)return;const i=JSON.parse(s.innerHTML).variants.find((e=>e.id===c));if(!i)return;const u=theme.cart,d=+a.dataset.inventoryQuantity||0,l=a.dataset.inventoryPolicy,y=d-u.items.reduce(((e,t)=>t.id===c?e+t.quantity:e),0);i.available?"shopify"===i.inventory_management&&"continue"!==l?n(y,o):n(30,o):n(0,o)}))}function n(e,t){t.forEach((t=>{const n=t.querySelector("input"),o=+n.value;1===o&&(n.checked=!0),o>e||t.hasAttribute("data-invalid-value")?t.setAttribute("hidden","hidden"):t.removeAttribute("hidden")}))}}();var i=$("#currency-list-header[name='dbtfy-custom-currencies']"),u=theme.strings.shopCurrency;i.length&&Currency.convertAll(u,Currency.currentCurrency,".qb-price .money, .qb-saved-amount .money")}}function s(e,t,n){const o=n||t.items_subtotal_price;let r=0;if(e)switch(e.type){case"$":r=100*e.amount;break;case"%":r=o*(e.amount/100)}return r}!function(){function n(){theme.isCartLoaded?o():document.addEventListener("dbtfy:cartLoaded",(()=>{o()}))}n(),document.addEventListener("dbtfy:upsellPopupLoaded",(()=>{n()})),$("body").on("ajaxCart.afterCartLoad",(function(e,t){n()})),setTimeout((()=>{document.querySelectorAll("[data-testid]").forEach((n=>{const o=n.closest(t.productSectionSelector);if(!o)return;o.querySelector(t.productBreaksSelector)&&n.addEventListener("click",(r=>{r.preventDefault(),r.stopPropagation();const a=o.querySelector(".product-single__form").querySelectorAll(t.quantitySelector),c=o.querySelector("[id^='MainProductSelect']").querySelector("option:checked"),i=c?+c.value:null;let u="";a.forEach((e=>{const t=e.querySelector("input:checked");t&&(u={variantID:i,quantity:+t.value,discountCode:t.dataset.discountCode,discountType:t.dataset.discountType,discountAmount:t.dataset.discountAmount})})),function(n,o){if(!o)return;let r=`${window.location.origin}/cart/${o.variantID}:${o.quantity}?locale=${Shopify.locale}`;const a=["amazon","apple","google","paypal","shop","venmo"],c=n.dataset.testid.toLowerCase();if(o.discountCode){theme.discountCode.addDiscount(o.discountCode,o.discountType,o.discountAmount),function(n,o){const r=o.closest(".product-single[data-product-handle]").querySelector(`.qb-quantity input[value='${n}']`),a=r?+r.parentElement.querySelector(".qb-discounted-price").dataset.price:0,c=e.querySelectorAll(t.cartBreakSelector),i=Array.from(c).filter((e=>n>=e.dataset.range));let u=null,d=0;if(i.forEach((e=>{const t=s({type:e.dataset.discountType,amount:+e.dataset.discountAmount},theme.cart,a);t>d&&(u=e,d=t)})),!u)return;const l={quantity:+u.dataset.range,discountCode:u.dataset.discountCode,discountType:u.dataset.discountType,discountAmount:u.dataset.discountAmount};n>=l.quantity&&theme.discountCode.addDiscount(l.discountCode,l.discountType,l.discountAmount)}(o.quantity,n);const a=theme.discountCode.getStoredDiscounts(),c=theme.discountCode.getMostValuableDiscount(a,theme.cart);c&&(r=`${r}&discount=${c.name}`),theme.discountCode.removeAllDiscounts()}a.forEach((e=>{let t=!1;if(c.includes(e))t=!0;else{const o=n.querySelector("[role='button']");o&&o.dataset.testid.toLowerCase().includes(e)&&(t=!0)}if(t){r=`${r}&payment=${`${e}_pay`}`}})),window.location.assign(r)}(n,u)}),!0)}))}),1e3)}(),$(document).on("shopify:section:load",(function(e){"dbtfy-quantity-breaks"===e.detail.sectionId&&sessionStorage.removeItem("breaks-discounts")}))}QuantityBreaks(),document.addEventListener("shopify:section:load",(e=>{QuantityBreaks()}));} function themeQuantityBreaksDestroy() {function destroyQuantityBreaks(){const t=document.querySelectorAll(".dbtfy-quantity_breaks"),e=document.querySelectorAll(".product-single__quantity");t.length&&t.forEach(t=>{t.remove()}),e.length&&e.forEach(t=>{const e=t.hasAttribute("data-quantity-enabled"),a=t.hasAttribute("data-inventory-quantity-enabled");e||a||t.remove()})}document.body.classList.add("dbtfy-quantity_breaks-destroy"),destroyQuantityBreaks();} /* end-dbtfy-quantity-breaks */

  /* start-dbtfy-quick-compare */ function themeQuickCompare() {} function themeQuickCompareDestroy() {} /* end-dbtfy-quick-compare */

  /* start-dbtfy-quick-view */ function themeQuickView() {} function themeQuickViewDestroy() {} /* end-dbtfy-quick-view */

  /* start-dbtfy-recently-viewed */ function themeRecentlyViewed(){} function themeRecentlyViewedDestroy() {} /* end-dbtfy-recently-viewed */

  /* start-dbtfy-shop-protect */ function themeShopProtect() {function ShopProtect(){var t=theme.settings.dbtfyShopProtectImage,e=theme.settings.dbtfyShopProtectDrag,o=theme.settings.dbtfyShopProtectTextProduct,n=theme.settings.dbtfyShopProtectTextArticle,c=theme.settings.dbtfyShopProtectCollection;function i(){t&&$("img").on("contextmenu",function(t){return!1})}function d(){e&&$("img").mousedown(function(t){t.preventDefault()})}setTimeout(function(){i(),d()},1e3),o&&$(".product-single__description, .qv-description, .tab-content").addClass("dbtfy-shop_protect-text"),n&&$(".article-section, .blog-section").addClass("dbtfy-shop_protect-text"),c&&($("#sortBy option[value='best-selling']").remove(),"?sort_by=best-selling"===window.location.search&&window.location.replace("/collections")),$("body").on("ajaxCart.afterCartLoad",function(t,e){i(),d()})}ShopProtect(),document.addEventListener("QuickViewLoaded",()=>{ShopProtect()}),document.addEventListener("dbtfy:addedRecentlyViewedProduct",()=>{ShopProtect()});} /* end-dbtfy-shop-protect */

  /* start-dbtfy-size-chart */ function themeSizeChart(){} function themeSizeChartDestroy() {} /* end-dbtfy-size-chart */

  /* start-dbtfy-smart-search */ function themeSmartSearch() {} function themeSmartSearchDestroy() {} /* end-dbtfy-smart-search */

  /* start-dbtfy-social-discount */ function themeSocialDiscount(){} function themeSocialDiscountDestroy() {} /* end-dbtfy-social-discount */

  /* start-dbtfy-sticky-addtocart */ function themeStickyAddtocart(){function StickyAddtocart(){document.body.classList.remove("dbtfy-sticky_addtocart-destroy");const t=document.querySelector(".dbtfy-sticky_addtocart");if(!t)return;const e=document.querySelectorAll(".single-option-selector__radio"),n=document.querySelector("[id^='MainProductSelect']"),r=document.querySelector(".product-single__meta--wrapper");let c,a=t.dataset.position,i=t.querySelectorAll(".image-sticky_addtocart"),o=document.querySelector(".product-single__add-to-cart .btn--add-to-cart"),s=t.querySelector("#stickyAddToCart"),d=t.querySelector("form"),u=t.querySelector(".btn--sticky_addtocart"),l=u.querySelector(".btn-text-sticky_addtocart"),y=o.offsetTop+o.offsetHeight,m=theme.strings.moneyFormat,p=theme.variables.animationDuration,h="top"===a?null:"scroll-sticky_addtocart",f="sa-visible",S=!1,b=document.querySelector(".quantity-sticky_addtocart"),k=t.querySelector(".select-sticky_addtocart");function v(){let e=t.querySelector(".total-sticky-price"),n=t.querySelector(".total-sticky-compare-price"),r=t.querySelector(".discount-sticky-price"),c=t.querySelector(".discount-sticky-price-text"),a=k.options[k.selectedIndex];if(!a)return;let i=+a.dataset.price,o=+a.dataset.compareAtPrice,s=Boolean(t.querySelector(".dbtfy-sticky-price-box").dataset.discountSaved);if(e.innerHTML=`<span class="money">${theme.Currency.formatMoney(i,m)}</span>`,i<o){if(n.innerHTML=`<span class="money">${theme.Currency.formatMoney(o,m)}</span>`,n.style.display="inline-block",e.classList.add("text-sale"),r&&s){let t=r.dataset.discountVariant,e=function(t,e,n){let r=null;if("percentage"===n)r=`${Math.floor(100*(e-t)/e)}%`;else{let n=e-t;r=theme.Currency.formatMoney(n,m)}return r}(i,o,t);const n="percentage"===t?e:`<span class="money">${e}</span>`;c.innerHTML=theme.strings.saveFormat.replace(/\{\{ saved_amount \}\}/,n),r.style.display="inline-block"}}else n.style.display="none",e.classList.remove("text-sale"),r&&(r.style.display="none");var d=$("#currency-list-header[name='dbtfy-custom-currencies']"),u=theme.strings.shopCurrency;d.length&&u&&Currency.currentCurrency&&Currency.convertAll(u,Currency.currentCurrency)}function Q(){const t=k.selectedOptions[0];if(!t)return;const e=document.querySelector(".product-single__meta--wrapper"),n=t.hasAttribute("data-remain-qty")?+t.dataset.remainQty:+t.dataset.productQty,r=!e||!e.classList.contains("variant-soldout");n>0&&r?(u.removeAttribute("disabled"),l.innerHTML=theme.strings.addToCart):(u.setAttribute("disabled","disabled"),l.innerHTML=theme.strings.soldOut),document.dispatchEvent(new CustomEvent("stickyATCButtonStateChanged"))}function q(t){document.querySelector(".featured-product-section [data-section-type='product-template']")||t&&!t.includes("no-image")&&(i[1].src=t)}window.updateStickyAtcVariant=!0,b&&(c=b.querySelector("input")),window.addEventListener("scroll",(()=>{window.pageYOffset>y?(s.classList.add(f),h&&document.body.classList.add(h),S=!0):S&&(S=!1,theme.closeTransition({elementToTransition:s,animationSpeed:p},(function(){s.classList.remove(f),h&&document.body.classList.remove(h)})))})),d.addEventListener("submit",(t=>{o&&o.click();const e=document.querySelector(".dbtfy-list-property-fields");if(!e)return;const n=e.querySelectorAll("[required]");if(!n)return;const r=Array.from(n).find((t=>("checkbox"!==t.getAttribute("type")||t.checked)&&t.value?void 0:t));return t.preventDefault(),t.stopImmediatePropagation(),r&&setTimeout((()=>{theme.loadingState.destroy(u)}),0),!1})),theme.ProductQuantities.setMaxQuantity(b,k,c),theme.ProductQuantities.setVariantQuantities(b,k,c),theme.ProductQuantities.syncQuantityInputs(c),theme.ProductQuantities.checkQuantity(b,k,c),v(),Q(),b&&b.querySelectorAll("button").forEach((t=>{t.addEventListener("click",(t=>{theme.ProductQuantities.checkQuantity(b,k,c),theme.ProductQuantities.syncQuantityInputs(c)}))})),k&&k.addEventListener("change",(async e=>{let n=e.target,r=n.options[n.selectedIndex].dataset.image,a=n.options[n.selectedIndex].dataset.price;q(r),theme.ProductQuantities.setMaxQuantity(b,k,c),theme.ProductQuantities.checkQuantity(b,k,c),theme.ProductQuantities.syncQuantityInputs(c),Q(),t.querySelector(".total-sticky-price").innerHTML=`<span class="money">${theme.Currency.formatMoney(a,m)}</span>`,v();let i=document.querySelector("#currency-list-header[name='dbtfy-custom-currencies']"),o=theme.strings.shopCurrency;i&&Currency.convertAll(o,Currency.currentCurrency,".dbtfy-sticky-price-box .money"),window.updateStickyAtcVariant&&theme.syncedProductVariant(n,"sticky")})),e.forEach((t=>t.addEventListener("change",(t=>{if(!window.updateStickyAtcVariant)return;let e=k.querySelector(`option[value="${n.value}"]`);!r.classList.contains("variant-unavailable")&&e&&(k.value=n.value,q(n.options[n.selectedIndex].dataset.image),Q(),v())})))),$("body").on("hideStickyAtcOnUnavailableButton",(function(){s&&s.setAttribute("hidden","hidden")})),$("body").on("productQuantitySync",(function(){theme.ProductQuantities.checkQuantity(b,k,c)})),$("body").on("ajaxCart.afterCartLoad",(function(){theme.ProductQuantities.setVariantQuantities(b,k,c),v(),Q()})),$("body").on("updatedProductRemainingQuantities",(function(){Q()})),c&&c.addEventListener("keydown",(function(t){const e=t.code;("ArrowUp"===e||"ArrowDown"===e||e.includes("Digit"))&&setTimeout((()=>{theme.ProductQuantities.checkQuantity(b,k,c),theme.ProductQuantities.syncQuantityInputs(c)}))})),document.addEventListener("productInfoLoaded",(()=>{Q()}))}StickyAddtocart();} function themeStickyAddtocartDestroy() {function destroyStickyAddtocart(){const t=document.querySelectorAll(".dbtfy-sticky_addtocart");t.length&&t.forEach(t=>{t.remove()})}document.body.classList.add("dbtfy-sticky_addtocart-destroy"),destroyStickyAddtocart();} /* end-dbtfy-sticky-addtocart */

  /* start-dbtfy-synced-variant-image */ function themeSyncedVariantImage(){} /* end-dbtfy-synced-variant-image */

  /* start-dbtfy-trust-badge */ function themeTrustBadge() {function TrustBadge(){document.body.classList.remove("dbtfy-trust_badge-destroy")}TrustBadge();} function themeTrustBadgeDestroy() {function destroyTrustBadge(){const t=document.querySelectorAll(".dbtfy-trust_badge");t.length&&t.forEach((t=>{t.remove()}))}document.body.classList.add("dbtfy-trust_badge-destroy"),destroyTrustBadge(),$("body").on("ajaxCart.afterCartLoad",((t,d)=>{destroyTrustBadge()}));} /* end-dbtfy-trust-badge */

  /* start-dbtfy-upsell-bundles */function themeUpsellBundles(){function UpsellBundles(){if(Shopify.designMode){const e=document.querySelectorAll(".dbtfy-upsell_bundles");if(e.length>1){const e=document.querySelector(".product-single"),t=e.querySelector(".dbtfy-upsell_bundles");t.remove()}}const dbtfy=document.querySelector(".dbtfy-upsell_bundles");if(!dbtfy)return;const $container=document.querySelector("#UpsellBundles"),sectionId=$container.dataset.sectionId,productId=$container.dataset.productId,limit=+$container.dataset.limit,recommendationsSectionUrl=`/recommendations/products?&section_id=${sectionId}&product_id=${productId}&limit=${limit}`,discountName=$container.dataset.discountName,discountAmount=$container.dataset.discountAmount,discountType=$container.dataset.discountType,position=$container.dataset.position;function upsellBundleLoaded(){const $buttonBundle=document.querySelector(".btn-upsell_bundles"),$bundleSelect=document.querySelectorAll(".select-upsell_bundles"),bundleTotal=document.querySelector(".total-upsell_bundles"),bundleCompareTotal=document.querySelector(".compare-total-upsell_bundles"),discountBox=document.querySelector(".discount-upsell_bundles"),discountBoxText=document.querySelector(".discount-upsell_bundles_text"),discountVariant=document.querySelector(".total-wrapper-upsell_bundles").dataset.discountVariant,moneyFormat=theme.strings.moneyFormat,imageWrapperBox=document.querySelector(".image-wrapper-upsell_bundles"),currentImageUpsell=document.querySelector(".current-image-upsell_bundles"),formWrapperBox=document.querySelector(".form-wrapper-upsell_bundles"),currentFormUpsell=document.querySelector(".current-form-upsell_bundles"),listCheckboxes=document.querySelectorAll(".checkbox-upsell_bundles"),listVariantSelects=document.querySelectorAll(".single-option-selector__radio"),masterSelect=document.querySelector("[id^='MainProductSelect']"),productTemplateMetaContainer=document.querySelector(".product-single__meta--wrapper");if(window.updateBundleVariant=!0,!currentImageUpsell)return void dbtfy.setAttribute("hidden","hidden");function addUpsellToProductSection(){const e=document.querySelector(".dbtfy-trust_badge");if(e)e.insertAdjacentElement("afterend",dbtfy);else{document.querySelector(".btn--add-to-cart").closest("form").insertAdjacentElement("afterend",dbtfy)}}imageWrapperBox.insertAdjacentElement("afterbegin",currentImageUpsell),formWrapperBox.insertAdjacentElement("afterbegin",currentFormUpsell),"button"===position&&addUpsellToProductSection(),listCheckboxes.forEach(e=>e.addEventListener("click",t=>{const n=e.dataset.productId,o=e.dataset.index,s=document.querySelector(`.grid-image-${n}-${o}`),l=document.querySelector(`#upsellBundles-${n}-${o}`);s.classList.toggle("selected-image-upsell_bundles"),l.classList.toggle("active-upsell_bundles"),verifyUnchecked(),checkPrice()})),$bundleSelect.forEach(e=>e.addEventListener("change",t=>{const n=e.value,o=e.dataset.index,s=document.querySelector(`#imageUpsellBundles-${n}-${o}`),l=s.closest(".image-item-upsell_bundles").querySelectorAll(".image-link-upsell_bundles"),r=e.options[e.selectedIndex],c=e.nextElementSibling.querySelector(".dbtfy-upsell-bundle-current-price"),a=e.nextElementSibling.querySelector(".dbtfy-upsell-bundle-compare-price"),u=+r.dataset.price,d=+r.dataset.compareAtPrice;l.forEach(e=>e.style.display="none"),s&&(s.style.display="block"),u>d?(c.classList.remove("text-sale"),a&&(a.style.display="none")):(c.classList.add("text-sale"),a&&(a.style.display="inline-block")),c&&(c.innerHTML=`<span class="money">${theme.Currency.formatMoney(u,moneyFormat)}</span>`,a.innerHTML=`<span class="money">${theme.Currency.formatMoney(d,moneyFormat)}</span>`),checkPrice(),e.closest(".current-form-upsell_bundles")&&window.updateBundleVariant&&theme.syncedProductVariant(e,"bundle")})),listVariantSelects.forEach(e=>e.addEventListener("change",e=>{if(!window.updateBundleVariant)return;const t=currentFormUpsell.querySelector(".select-upsell_bundles"),n=t.querySelector(`option[value="${masterSelect.value}"]`);!productTemplateMetaContainer.classList.contains("variant-unavailable")&&n&&(t.value=masterSelect.value,t.dispatchEvent(new Event("change")))})),checkPrice(),$buttonBundle.addEventListener("click",e=>{const forms=document.querySelectorAll(".form-upsell_bundles.active-upsell_bundles"),cartType=theme.settings.cartType,boxWithErrors=dbtfy.querySelector(".errors");boxWithErrors&&boxWithErrors.remove();const items=[];forms.forEach(e=>{const t=+e.querySelector(".select-upsell_bundles").value,n=items.find(e=>e.id===t);n?n.quantity++:items.push({id:t,quantity:1})}),ShopifyAPI.addItemFromForm({data:{items:items},forms:forms},e=>{if(isDiscountApplicable()){const e=getVariantIds(),t={productId:productId,variantIds:e,discount:{name:discountName,type:discountType,amount:discountAmount}};upsellBundleStorage.remove(productId),upsellBundleStorage.add(t),discountName&&discountType&&discountAmount&&theme.discountCode.addDiscount(discountName,discountType,discountAmount),theme.discountCode.init()}theme.loadingState.init($buttonBundle),theme.settings.dbtfySkipCart?theme.goToCheckoutWithDiscount():"page"===cartType?document.body.classList.contains("template-cart")?theme.ajaxCart.update():window.location.assign("/cart"):"drawer"===cartType?(theme.ajaxCart.update(),$("body").on("ajaxCart.afterCartLoad",function(e,t){theme.loadingState.destroy($buttonBundle)})):(theme.ajaxCart.update(),$("body").on("ajaxCart.afterCartLoad",function(e,t){theme.loadingState.destroy($buttonBundle),theme.settings.enableCartMessage&&window.initNotificationToast||theme.cartModal.init()}))},(XMLHttpRequest,textStatus,form)=>{const data=eval(`(${XMLHttpRequest.responseText})`);theme.loadingState.destroy($buttonBundle),data.message&&422===data.status&&$buttonBundle.insertAdjacentHTML("afterend",`<div class="errors qty-error">${data.description}</div>`)})});const upsellBundleStorage={getAll:function(){const e=JSON.parse(sessionStorage.getItem("upsellBundles"));return e||[]},get:function(e){const t=JSON.parse(sessionStorage.getItem("upsellBundles"));return t?t.find(t=>t.productId===+e):null},add:function(e){const t=this.getAll()||[];t.push(e),sessionStorage.setItem("upsellBundles",JSON.stringify(t))},has:function(e){const t=this.getAll();return!!t&&t.some(t=>t.productId===+e)},remove:function(e){const t=this.getAll();if(!t)return;const n=t.filter(t=>t.productId!==e);return n.length?sessionStorage.setItem("upsellBundles",JSON.stringify(n)):sessionStorage.removeItem("upsellBundles"),!0}};function calculateDiscount(e,t){let n=null;if(discountBox&&(discountBox.style.display="none"),bundleTotal.classList.remove("text-sale"),t>e){if("percentage"===discountVariant){const o=Math.round(100*(t-e)/t);o<=100&&(n=`${o}%`)}else{const o=t-e;o>0&&(n=`<span class="money">${theme.Currency.formatMoney(o,moneyFormat)}</span>`)}n&&(discountBoxText&&(discountBoxText.innerHTML=theme.strings.saveFormat.replace(/\{\{ saved_amount \}\}/,n)),bundleTotal.classList.add("text-sale"),discountBox&&(discountBox.style.display="block"))}}function checkPrice(){const e=$container.querySelectorAll(".form-item-upsell_bundles").length;let t=0,n=0,o=0;if($bundleSelect.forEach(e=>{if(e.closest(".form-item-upsell_bundles").querySelector(".checkbox-upsell_bundles").checked){const s=e.options[e.selectedIndex],l=parseInt(s.dataset.price),r=parseInt(s.dataset.compareAtPrice);o++,t+=l,n+=r>0?r:l}}),e===o&&discountName&&discountAmount&&discountType){const e=t;switch(discountType){case"%":t-=t/100*discountAmount;break;case"$":t-=100*discountAmount}t>0?(n=e,$container.setAttribute("data-discount-applied","true")):(t=e,$container.removeAttribute("data-discount-applied"))}bundleTotal.dataset.total=t,bundleTotal.innerHTML=`<span class="money">${theme.Currency.formatMoney(t,moneyFormat)}</span>`,t<n?(bundleCompareTotal.dataset.total=n,bundleCompareTotal.innerHTML=`<span class="money">${theme.Currency.formatMoney(n,moneyFormat)}</span>`,bundleCompareTotal.style.display="block"):bundleCompareTotal.style.display="none",calculateDiscount(t,n);const s=document.querySelector("#currency-list-header[name='dbtfy-custom-currencies']"),l=theme.strings.shopCurrency;s&&l&&Currency.currentCurrency&&Currency.convertAll(l,Currency.currentCurrency)}function verifyUnchecked(){const e=document.querySelector(".btn-upsell_bundles"),t=document.querySelectorAll(".checkbox-upsell_bundles"),n=[].filter.call(t,function(e){return!e.checked});t.length===n.length?(e.classList.add("disabled"),e.setAttribute("disabled","disabled")):(e.classList.remove("disabled"),e.removeAttribute("disabled","disabled"))}function isDiscountApplicable(){const e=document.querySelectorAll(".checkbox-upsell_bundles"),t=Boolean($container.getAttribute("data-discount-applied"));let n=!1;return Array.from(e).reduce((e,t)=>t.checked?e+1:e,0)===e.length&&t&&(n=!0),n}function getVariantIds(){const e=[];return $bundleSelect.forEach(t=>{const n=t.value;e.push(+n)}),e}function upsellBundleDiscountOnCartUpdate(e){upsellBundleStorage.getAll().forEach(t=>{const n=t.discount,o=t.variantIds.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{});Object.entries(o).every(([t,n])=>e.items.some(e=>e.variant_id===+t&&e.quantity>=n))?theme.discountCode.hasDiscount(n.name)||theme.discountCode.addDiscount(n.name,n.type,n.amount):theme.discountCode.removeDiscount(n.name)}),theme.discountCode.init(),theme.showTheMostValuableDiscountInCart()}$("body").on("ajaxCart.afterCartLoad",function(e,t){upsellBundleDiscountOnCartUpdate(t)})}function getRecommendationsSection(){fetch(recommendationsSectionUrl).then(function(e){return e.text()}).then(function(e){const t=(new DOMParser).parseFromString(e,"text/html").querySelector("#UpsellBundles").innerHTML;t&&""!==t.trim()&&($container.innerHTML=t,upsellBundleLoaded())})}$container.classList.contains("specific-upsell_bundles")?upsellBundleLoaded():getRecommendationsSection()}document.addEventListener("shopify:section:load",e=>{UpsellBundles(),sessionStorage.removeItem("upsellBundles")}),UpsellBundles();} function themeUpsellBundlesDestroy(){function destroyUpsellBundles(){const e=document.querySelectorAll(".dbtfy-upsell_bundles");e.length&&e.forEach(e=>{e.remove()})}destroyUpsellBundles();}/* end-dbtfy-upsell-bundles */

  /* start-dbtfy-upsell-popup */ function themeUpsellPopup() {let onFormSubmit="";document.addEventListener("dbtfy:formSubmitted",a=>{const b=a.detail.form;b&&onFormSubmit(b,null,!1)});async function UpsellPopup(){async function a(){const a=c.querySelectorAll(".up-modal"),b=c.querySelectorAll(".upsell-popup-item");if(a.length&&a.forEach(a=>{a.remove()}),!b.length)return;const d=Array.from(b).map(a=>{const b=a.dataset.productTrigger,c=a.dataset.productOffer,d=[];return b&&d.push(b),c&&d.push(c),d}),e=d.flat(),f=[...new Set(e)],g=f.map(a=>`handle:${a}`).join(" OR "),h=await fetch(`/search?view=product-info&type=product&q=${g}`,{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(a=>a.text()),i=JSON.parse(h),j=c.dataset.popupWidth,k=c.dataset.popupDescription,l=c.dataset.cartText,m=c.dataset.checkoutText,n=c.dataset.textAlignment,o=c.dataset.range,p=Array.from(b).map(a=>{const b=a.dataset.title,c=a.dataset.text,d=a.dataset.productTrigger,e=a.dataset.collectionTrigger,f=a.dataset.productOffer,g=a.dataset.icons,h=a.dataset.buttonLabel,p=a.dataset.discountName,q=+a.dataset.discountAmount,r=a.dataset.discountType,s=a.dataset.blockId,t=i.find(a=>a.handle===d),u=i.find(a=>a.handle===f),v=u&&u.available;if(!u||!v)return null;let w=d||e?e&&!t?e:t?t.id:"":"general";const x=theme.cart.items&&theme.cart.items.some(a=>a.handle===f);let y=0;const z=document.getElementById(`upsellProductOfferJson-${u.id}`),A=z&&JSON.parse(z.innerHTML),B=u.variants.map(a=>{if(y++,a.available){let b=a.featured_image?a.featured_image:u.featured_image.src?u.featured_image:A&&A.media.preview_image;const c=b&&b.aspect_ratio?b.aspect_ratio:1,d=b?b.alt:null,e=b?b.src:null,f=theme.variables.productPlaceholderSvg;return` <div class="product--wrapper media-wrapper up-img up-img-${a.id}" style="${1===y?"":"display: none;"}padding-top: ${b?0===c?1:100*(1/c):0}%${b?"":"!important"};"> ${b?` <img class="product--image media lazyload" data-src="${e}" data-sizes="auto" data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]" data-aspectratio="${c}" alt="${d}" data-image> `:f} </div> `}return y--,""}).join(""),C=u.variants.map(a=>a.available?` <option value="${a.id}" data-variant-title="${a.title}" data-variant-price="${a.price}"> ${a.title} - ${theme.Currency.formatMoney(a.price,theme.strings.moneyFormat)} </option> `:` <option disabled="disabled" hidden> ${a.title} - ${theme.strings.soldOut} </option> `).join(""),D=u.description||k?` <div class="card card-full tab"> <button id="tab-button-${s}" class="card-header tab-header up-btn-description" type="button" role="tab" aria-controls="tab-content-${s}" aria-selected="false"> <span class="tab-header-title">${k}</span> </button> <div id="tab-content-${s}" class="card-body tab-body" role="tabpanel" aria-labelledby="tab-button-${s}"> <div class="tab-content rte"> ${u.description.replace("<p>[split_description]</p>","").replace("[split_description]","")} </div> </div> </div> `:"",E=l||m?` <div class="modal-footer"> <div class="grid"> <div class="grid__item six-twelfths"> ${l?` <button type="button" class="up-cart-link" data-modal-close="#UpsellPopup-${w}"> <small class="btn__text"> ${l} </small> </button> `:""} </div> <div class="grid__item six-twelfths text-right"> ${m?` <button type="button" class="up-checkout-link"> <small class="btn__text"> ${m} </small> </button> `:""} </div> </div> </div> `:"",F=` <div id="UpsellPopup-${w}" class="modal up-modal${x?" up-offer-accepted":""}" role="dialog" data-offer="${u.id}" data-trigger="${w}" data-collection-trigger="${e}" ${p&&r&&q?` data-discount-name="${p}" data-discount-type="${r}" data-discount-amount="${q}" `:""}> <div class="modal-dialog ${j}"> <div class="overlay-content modal-content modal-content-upsell_popup" aria-hidden="true" tabindex="-1"> <div class="modal-header"> <h4 class="modal-title"> <a href="${u.url}">${u.title}</a> </h4> <button type="button" class="modal-close btn btn-square-small" title="${theme.strings.closeText}" aria-label="${theme.strings.closeText}" data-modal-close="#UpsellPopup-${w}"> <span class="${theme.settings.icon}" aria-hidden="true">close</span> </button> </div> <div class="progress"> <div class="progress-bar up-progress-bar" role="progressbar" style="width: ${o}%;"> </div> </div> <div class="modal-body"> <div class="grid grid-small grid-spacer align-center"> <div class="grid__item large--six-twelfths medium--six-twelfths"> ${B} </div> <div class="grid__item large--six-twelfths medium--six-twelfths ${n}"> <div class="rte"> ${b?`<h3 class="title-upsell_popup">${b}</h3>`:""} ${c?c:""} </div> <form method="post" action="/cart/add" class="up-form" enctype="multipart/form-data"> <input type="hidden" name="form_type" value="product"> <input type="hidden" name="utf8" value="✓"> <select name="id" class="up-select select--small full${1>=u.variants.length?" hide":""}"> ${C} </select> ${h?` <button type="submit" class="btn btn--primary btn--full up-btn-offer spacer-top"> <span class="btn__text"> ${g?` <span class="${theme.settings.icon}" aria-hidden="true"> ${g} </span> `:""} ${h} </span> </button> `:""} </form> </div> </div> </div> ${D} ${E} </div> </div> </div> <div class="overlay-modal overlay-backdrop"></div> `;return F}).join("");c.insertAdjacentHTML("afterbegin",p),theme.openExternalLinksInANewTab(),document.dispatchEvent(new CustomEvent("dbtfy:upsellPopupMarkupLoaded"))}function b(){theme.tabs.init(),theme.modal.init(),theme.discountCode.init(),theme.loadingState.initForm(),theme.ajaxCart.init(),theme.styleTextLinks();var a=$("form[action*='/cart/add']"),b=$(".up-checkout-link"),c=$(".up-progress-bar"),d=theme.settings.cartType,e=$("#UpsellPopup-general");if(e.length)a.attr("data-has-submit-listener","true");else{let a=$(".upsell-popup-item");a.each(function(){let a=$(this).data("product-trigger-id"),b=$(`[data-product-id="${a}"] form`);b.attr("data-has-submit-listener","true")})}a.off("submit"),a.attr("data-has-submit-listener","true"),a.on("submit",function(a){onFormSubmit(this,a,!0)}),onFormSubmit=function(f,g,h){function i(){o.off("click"),b.off("click"),t.off("change"),m.off("modal.close"),theme.loadingState.destroy(o)}function j(a,b){const c=a.get(0);a.removeAttr("data-has-submit-listener"),b?theme.ajaxCart.update():c.dispatchEvent(new CustomEvent("form-submit")),a.attr("data-has-submit-listener","true")}var k=$(f),l=k.closest("[data-product-id]").data("product-id"),m=$("#UpsellPopup-"+l),n=theme.cart,o=$(".up-btn-offer");const p=k.closest("[data-product-id]").data("product-collections"),q=p&&p.split(",");let r=q&&q.map(a=>$(`#UpsellPopup-${a}`)).filter(a=>a.length);if(!k.attr("data-has-submit-listener")&&h)return;if(k.hasClass("up-form"))return;if(m.length)g&&g.preventDefault();else if(r&&r.length)g&&g.preventDefault(),m=r[0];else if(e.length)g&&g.preventDefault(),m=e;else return void j(k,!h);var s=m.find(".up-img"),t=m.find(".up-select"),u=m.find(".up-form"),v=m.data("offer"),w=m.data("discount-name"),x=m.data("discount-type"),y=m.data("discount-amount");const z=n.items.some(a=>a.product_id===+v&&!!(+l!=+v));return z||m.hasClass("up-offer-accepted")?void j(k,!h):void(o.click(function(){k.removeAttr("data-has-submit-listener"),m.addClass("up-offer-accepted"),w&&x&&y&&theme.discountCode.addDiscount(w,x,y,{productTriggerId:+l,productOfferId:+v,role:"upsell-popup"}),c.css("width","100%"),ShopifyAPI.addItemFromForm(u,()=>{theme.modal.close(m);theme.settings.enableCartMessage&&window.initNotificationToast||(document.dispatchEvent(new CustomEvent("dbtfy:upsellPopupLoaded")),setTimeout(()=>{c.css("width","75%")},2e3),theme.settings.dbtfySkipCart&&theme.goToCheckoutWithDiscount())})}),h?function(){ShopifyAPI.addItemFromForm(k,()=>{theme.modal.open(m)},()=>{$("body").trigger("ajaxCart.cartAddError",k)})}():theme.modal.open(m),m.on("modal.close",function(){return i(),theme.settings.dbtfySkipCart?void theme.goToCheckoutWithDiscount():void("page"===d?!document.body.classList.contains("template-cart")&&window.location.assign("/cart"):"drawer"===d?(theme.ajaxCart.update(),$("body").on("ajaxCart.afterCartLoad",()=>{a.attr("data-has-submit-listener","true")})):(theme.ajaxCart.update(),$("body").on("ajaxCart.afterCartLoad",()=>{theme.settings.enableCartMessage&&window.initNotificationToast||theme.cartModal.init()})))}),b.on("click",function(){theme.loadingState.init(b),theme.ajaxCart.update(()=>{theme.goToCheckoutWithDiscount()})}),t.change(function(){var a=$(this).val(),b=m.find(`.up-img-${a}`);s.hide(),b.show()}))}}document.body.classList.remove("dbtfy-upsell_popup-destroy");const c=document.querySelector(".dbtfy-upsell_popup");c&&(theme.isCartLoaded?(await a(),b()):document.addEventListener("dbtfy:cartLoaded",async()=>{await a(),b()}),$(document).unbind("click.fb-start"))}UpsellPopup();function UpsellCouponCode(a){const b=document.querySelector(".dbtfy-upsell_popup");if(b&&a){const b=theme.discountCode.getStoredDiscounts();if(b.length){const c=b.filter(a=>!!a.hasOwnProperty("role")&&"upsell-popup"===a.role);c.length&&(c.forEach(b=>{const c=b.productOfferId,d=b.productTriggerId,e=a.items.some(a=>a.product_id===c);e||c===d||theme.discountCode.removeDiscount(b.name),theme.discountCode.init(a)}),document.dispatchEvent(new CustomEvent("dbtfy:upsellPopupLoaded")))}}}function UpsellNotInCart(a){const b=document.querySelector(".dbtfy-upsell_popup");if(b&&a){const b=document.querySelectorAll(".up-modal");b.length&&b.forEach(b=>{const c=parseInt(b.dataset.offer),d=parseInt(b.dataset.trigger),e=c===d,f=a.items.some(a=>a.product_id===c);b.classList.contains("up-offer-accepted")&&(e&&!f?b.classList.remove("up-offer-accepted"):!f&&b.classList.remove("up-offer-accepted")),f||e||b.classList.remove("up-offer-accepted")})}}$("body").on("ajaxCart.afterCartLoad",(a,b)=>{UpsellCouponCode(b),UpsellNotInCart(b)}),$("body").hasClass("template-cart")&&(theme.isCartLoaded?UpsellCouponCode(theme.cart):document.addEventListener("dbtfy:cartLoaded",()=>{UpsellCouponCode(theme.cart)})),$("body").on("afterRecommendationLoad",function(){UpsellPopup()}),$("body").on("cartUpsellLoad",function(){UpsellPopup()}),document.addEventListener("QuickViewLoaded",()=>{UpsellPopup()}),document.addEventListener("dbtfy:wishlistLoaded",()=>{UpsellPopup()});} function themeUpsellPopupDestroy() {function destroyUpsellPopup(){const e=document.querySelectorAll(".dbtfy-upsell_popup");e.length&&e.forEach(e=>{e.remove()})}document.body.classList.add("dbtfy-upsell_popup-destroy"),destroyUpsellPopup(),$("body").on("afterRecommendationLoad",function(e){destroyUpsellPopup()}),document.addEventListener("QuickViewLoaded",()=>{destroyUpsellPopup()});} /* end-dbtfy-upsell-popup */

  /* start-dbtfy-wish-list */ function themeWishList(){} function themeWishListDestroy() {} /* end-dbtfy-wish-list */

  var sections=new theme.Sections;const addons={dbtfy_addtocart_animation:{init:()=>{sections.register("product-template",themeAddtocartAnimation)},destroy:()=>{}},dbtfy_age_check:{init:themeAgeCheck,destroy:themeAgeCheckDestroy},dbtfy_agree_to_terms:{init:themeAgreeToTerms,destroy:themeAgreeToTermsDestroy},dbtfy_automatic_geolocation:{init:themeAutomaticGeolocation,destroy:()=>{}},dbtfy_back_in_stock:{init:themeBackInStock,destroy:themeBackInStockDestroy},dbtfy_cart_discount:{init:themeCartDiscount,destroy:themeCartDiscountDestroy},dbtfy_cart_favicon:{init:themeCartFavicon,destroy:()=>{}},dbtfy_cart_goal:{init:themeCartGoal,destroy:themeCartGoalDestroy},dbtfy_cart_reminder:{init:themeCartReminder,destroy:themeCartReminderDestroy},dbtfy_cart_savings:{init:themeCartSavings,destroy:themeCartSavingsDestroy},dbtfy_cart_upsell:{init:themeCartUpsell,destroy:themeCartUpsellDestroy},dbtfy_collection_addtocart:{init:themeCollectionAddtocart,destroy:themeCollectionAddtocartDestroy},dbtfy_collection_filters:{init:themeCollectionFilters,destroy:themeCollectionFiltersDestroy},dbtfy_color_swatches:{init:themeColorSwatches,destroy:themeColorSwatchesDestroy},dbtfy_cookie_box:{init:themeCookieBox,destroy:themeCookieBoxDestroy},dbtfy_custom_currencies:{init:themeCustomCurrencies,destroy:themeCustomCurrenciesDestroy},dbtfy_customizable_products:{init:themeCustomizableProducts,destroy:themeCustomizableProductsDestroy},dbtfy_delivery_date:{init:themeDeliveryDate,destroy:themeDeliveryDateDestroy},dbtfy_delivery_time:{init:themeDeliveryTime,destroy:themeDeliveryTimeDestroy},dbtfy_discount_saved:{init:themeDiscountSaved,destroy:themeDiscountSavedDestroy},dbtfy_faq_page:{init:()=>{sections.register("faq-page",themeFaqPage)},destroy:themeFaqPageDestroy},dbtfy_facebook_messenger:{init:()=>{},destroy:themeFacebookMessengerDestroy},dbtfy_gift_wrap:{init:themeGiftWrap,destroy:themeGiftWrapDestroy},dbtfy_inactive_tab_message:{init:themeInactiveTabMessage,destroy:()=>{}},dbtfy_infinite_scroll:{init:themeInfiniteScroll,destroy:themeInfiniteScrollDestroy},dbtfy_instagram_feed:{init:()=>{sections.register("instagram-feed",themeInstagramFeed)},destroy:themeInstagramFeedDestroy},dbtfy_inventory_quantity:{init:themeInventoryQuantity,destroy:themeInventoryQuantityDestroy},dbtfy_linked_options:{init:themeLinkedOptions,destroy:()=>{}},dbtfy_mega_menu:{init:()=>{sections.register("header-section",themeMegaMenu)},destroy:themeMegaMenuDestroy},dbtfy_menu_bar:{init:()=>{},destroy:themeMenuBarDestroy},dbtfy_minimum_order:{init:()=>{},destroy:themeMinimumOrderDestroy},dbtfy_newsletter_popup:{init:themeNewsletterPopup,destroy:themeNewsletterPopupDestroy},dbtfy_order_feedback:{init:themeOrderFeedback,destroy:themeOrderFeedbackDestroy},dbtfy_order_tracking:{init:themeOrderTracking,destroy:themeOrderTrackingDestroy},dbtfy_page_speed_booster:{init:themePageSpeedBooster,destroy:()=>{}},dbtfy_page_transition:{init:themePageTransition,destroy:themePageTransitionDestroy},dbtfy_pricing_table:{init:()=>{},destroy:themePricingTableDestroy},dbtfy_product_bullet_points:{init:themeProductBulletPoints,destroy:themeProductBulletPointsDestroy},dbtfy_product_image_crop:{init:themeProductImageCrop,destroy:themeProductImageCropDestroy},dbtfy_product_swatches:{init:themeProductSwatches,destroy:themeProductSwatchesDestroy},dbtfy_product_tabs:{init:themeProductTabs,destroy:themeProductTabsDestroy},dbtfy_quantity_breaks:{init:themeQuantityBreaks,destroy:themeQuantityBreaksDestroy},dbtfy_quick_compare:{init:themeQuickCompare,destroy:themeQuickCompareDestroy},dbtfy_quick_view:{init:themeQuickView,destroy:themeQuickViewDestroy},dbtfy_recently_viewed:{init:themeRecentlyViewed,destroy:themeRecentlyViewedDestroy},dbtfy_shop_protect:{init:themeShopProtect,destroy:()=>{}},dbtfy_size_chart:{init:themeSizeChart,destroy:themeSizeChartDestroy},dbtfy_smart_search:{init:themeSmartSearch,destroy:themeSmartSearchDestroy},dbtfy_social_discount:{init:()=>{sections.register("product-template",themeSocialDiscount)},destroy:themeSocialDiscountDestroy},dbtfy_sticky_addtocart:{init:()=>{sections.register("product-template",themeStickyAddtocart)},destroy:themeStickyAddtocartDestroy},dbtfy_synced_variant_image:{init:themeSyncedVariantImage,destroy:()=>{}},dbtfy_trust_badge:{init:themeTrustBadge,destroy:themeTrustBadgeDestroy},dbtfy_upsell_bundles:{init:themeUpsellBundles,destroy:themeUpsellBundlesDestroy},dbtfy_upsell_popup:{init:()=>{sections.register("upsell-popup",themeUpsellPopup)},destroy:themeUpsellPopupDestroy},dbtfy_wish_list:{init:themeWishList,destroy:themeWishListDestroy}},enabledAddons=window.enabledAddons;for(const[e,t]of Object.entries(addons)){enabledAddons.some((t=>t.name===e))?t.init():t.destroy()}function addonsLimitReached(){const e=document.querySelector("#TrialOverPopup"),t=sessionStorage.getItem("addonsLimitPopupClosed");if(theme.toast.hide(e),t)return;const o=theme.addons.addons,r=Object.entries(o),i=r.filter((e=>e[1]));if(enabledAddons.length>=i.length)return;const s={5:{name:"Starter Plan",maxAddons:5,link:"https://theme.debutify.com/plans/starter?billing=yearly",nextAddon:"30"},30:{name:"Pro Plan",maxAddons:30,link:"https://theme.debutify.com/plans/pro?billing=yearly",nextAddon:"master"},master:{name:"Enterprise Plan",maxAddons:r.length,link:"https://theme.debutify.com/plans/enterprise?billing=yearly"}},d=document.querySelector("#AddonsLimitReachedPopup");if(!d)return;const n=d.querySelectorAll(".to-link-btn, [data-toast-close]"),a=d.querySelector(".addons-limit-popup-text"),y=d.querySelector(".addons-limit-popup-note"),m=d.querySelector(".addons-limit-popup-button"),c=s[enabledAddons.length],l=s[c.nextAddon];a.innerHTML=a.innerHTML.replace("[plan_name]",c.name).replace("[current_limit]",c.maxAddons).replace("[upgraded_plan]",`<a class="text-link" href="${l.link}">${l.name}</a>`).replace("[upgraded_limit]",l.maxAddons),y.innerHTML=y.innerHTML.replace(/&lt;/g,"<").replace(/&gt;/g,">").replaceAll("[current_limit]",c.maxAddons),m.href=l.link,theme.toast.show(d),n.forEach((e=>{e.addEventListener("click",(e=>{sessionStorage.setItem("addonsLimitPopupClosed","true"),theme.toast.hide(d)}))}))}Shopify.designMode&&addonsLimitReached();
})();
